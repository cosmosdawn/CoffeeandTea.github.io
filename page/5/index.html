<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="ç§‹å¤œå·²å‡‰ 02">
<meta property="og:url" content="https://coffeeandtea.github.io/page/5/index.html">
<meta property="og:site_name" content="ç§‹å¤œå·²å‡‰ 02">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ç§‹å¤œå·²å‡‰ 02">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://coffeeandtea.github.io/page/5/">





  <title>ç§‹å¤œå·²å‡‰ 02</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ç§‹å¤œå·²å‡‰ 02</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">åšå®¢å¹´ä¹…å¤±ä¿®è¿˜æ˜¯æ¥ç‚¹éŸ³ä¹å§ï½ï½ å» <a href="http://music.xiaoyu.work" target="_blank">http://music.xiaoyu.work</a> éƒ½æ˜¯ä½ çˆ±å¬çš„ğŸµï½</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2021/01/10/VueSSR/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/10/VueSSR/" itemprop="url">VueSSR</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-01-10T12:46:03+08:00">
                2021-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="VueSSR"><a href="#VueSSR" class="headerlink" title="VueSSR"></a>VueSSR</h3><pre><code>runlnNewContext false</code></pre><h3 id="ä»€ä¹ˆæ˜¯ssr"><a href="#ä»€ä¹ˆæ˜¯ssr" class="headerlink" title="ä»€ä¹ˆæ˜¯ssr?"></a>ä»€ä¹ˆæ˜¯ssr?</h3><p>é»˜è®¤æƒ…å†µä¸‹vueæ˜¯æ„å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å‡ºVueç»„ä»¶ï¼Œè¿›è¡Œç”ŸæˆDomçš„æ“ä½œï¼Œç„¶è€Œï¼Œä¹Ÿå¯ä»¥å°†åŒä¸€ä¸ªç»„ä»¶æ¸²æŸ“ä¸ºæœåŠ¡å™¨ç«¯çš„htmlå­—ç¬¦ä¸²ï¼Œå°†ä»–ä»¬ç›´æ¥å‘é€åˆ°æµè§ˆå™¨ï¼Œæœ€åå°†é™æ€æ ‡è®°â€˜æ··åˆâ€™ä¸ºå®¢æˆ·ç«¯ä¸Šå®Œå…¨äº¤äº’çš„åº”ç”¨ç¨‹åºã€‚</p>
<p>æœåŠ¡å™¨æ¸²æŸ“çš„ Vue.js åº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥è¢«è®¤ä¸ºæ˜¯â€åŒæ„â€æˆ–â€é€šç”¨â€ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºçš„å¤§éƒ¨åˆ†ä»£ç éƒ½å¯ä»¥åœ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¸Šè¿è¡Œã€‚</p>
<h3 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h3><ul>
<li><p>æ›´å¥½çš„seo Google å’Œ Bingå¯ä»¥å¾ˆå¥½çš„å¯¹åŒæ­¥javascriptåº”ç”¨ç¨‹åºè¿›è¡Œç´¢å¼•ã€‚åŒæ­¥æ˜¯å…³é”®ï¼Œå¦‚æœä½ çš„åº”ç”¨ç¨‹åºåˆå§‹å±•ç¤ºèŠèŠ±å›¾ï¼Œç„¶åé€šè¿‡ajaxè·å–å†…å®¹ï¼ŒæŠ“å–å·¥å…·ä¸ä¼šç­‰åˆ°å¼‚æ­¥å®Œæˆåå†è¡ŒæŠ“å–é¡µé¢å†…å®¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ SEO å¯¹ä½ çš„ç«™ç‚¹è‡³å…³é‡è¦ï¼Œè€Œä½ çš„é¡µé¢åˆæ˜¯å¼‚æ­¥è·å–å†…å®¹ï¼Œåˆ™ä½ å¯èƒ½éœ€è¦æœåŠ¡å™¨ç«¯æ¸²æŸ“(SSR)è§£å†³æ­¤é—®é¢˜ã€‚</p>
</li>
<li><p>æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ã€‚ï¼ˆtime-to-contentï¼‰å¯¹äºé‚£äº›ã€Œå†…å®¹åˆ°è¾¾æ—¶é—´(time-to-content)ä¸è½¬åŒ–ç‡ç›´æ¥ç›¸å…³ã€çš„åº”ç”¨ç¨‹åºè€Œè¨€ï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“(SSR)è‡³å…³é‡è¦ã€‚<br>éœ€è¦æƒè¡¡çš„åœ°æ–¹ï¼š</p>
</li>
<li><p>å¼€å‘æ¡ä»¶æ‰€é™åˆ¶ï¼Œæµè§ˆå™¨ç‰¹å®šçš„ä»£ç ï¼Œåªèƒ½åœ¨ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸä¸­ä½¿ç”¨ï¼›ä¸€äº›å¤–éƒ¨æ‰©å±•åº“(external library)å¯èƒ½éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œæ‰èƒ½åœ¨æœåŠ¡å™¨æ¸²æŸ“åº”ç”¨ç¨‹åºä¸­è¿è¡Œã€‚</p>
</li>
<li><p>æ¶‰åŠæ„å»ºåŠéƒ¨ç½²çš„æ›´å¤šè¦æ±‚ã€‚ä¸å¯ä»¥éƒ¨ç½²åœ¨ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Šçš„å®Œå…¨é™æ€å•é¡µé¢åº”ç”¨ç¨‹åº(SPA)ä¸åŒï¼ŒæœåŠ¡å™¨æ¸²æŸ“åº”ç”¨ç¨‹åºï¼Œéœ€è¦å¤„äº Node.js server è¿è¡Œç¯å¢ƒã€‚</p>
</li>
<li><p>æ›´å¤šçš„æœåŠ¡ç«¯è´Ÿè½½ã€‚åœ¨ Node.js ä¸­æ¸²æŸ“å®Œæ•´çš„åº”ç”¨ç¨‹åºï¼Œæ˜¾ç„¶ä¼šæ¯”ä»…ä»…æä¾›é™æ€æ–‡ä»¶çš„ server æ›´åŠ å¤§é‡å ç”¨ CPU èµ„æº(CPU-intensive - CPU å¯†é›†)ï¼Œå› æ­¤å¦‚æœä½ é¢„æ–™åœ¨é«˜æµé‡ç¯å¢ƒ(high traffic)ä¸‹ä½¿ç”¨ï¼Œè¯·å‡†å¤‡ç›¸åº”çš„æœåŠ¡å™¨è´Ÿè½½ï¼Œå¹¶æ˜æ™ºåœ°é‡‡ç”¨ç¼“å­˜ç­–ç•¥ã€‚</p>
</li>
</ul>
<p> è¿˜æœ‰å¯èƒ½ä¼šç”¨åˆ°é¢„æ¸²æŸ“</p>
<p>æ¨¡ç‰ˆæ’å€¼</p>
<p>åœ¨çº¯å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¸­ï¼Œæ¯ä¸ªç”¨æˆ·ä¼šåœ¨ä»–ä»¬å„è‡ªçš„æµè§ˆå™¨ä¸­ä½¿ç”¨æ–°çš„åº”ç”¨ç¨‹åºå®ä¾‹ï¼Œå¯¹äºæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œæˆ‘ä»¬å¸Œæœ›ä¹Ÿæ˜¯å¦‚æ­¤ï¼šæ¯ä¸ªè¯·æ±‚éƒ½æ˜¯å…¨æ–°çš„ï¼Œç‹¬ç«‹çš„åº”ç”¨ç¨‹åºç¤ºä¾‹ï¼Œä»¥ä¾¿ä¸ä¼šæœ‰äº¤å‰è¯·æ±‚é€ æˆçš„çŠ¶æ€æ±¡æŸ“ã€‚</p>
<p>ç¦ç”¨å“åº”å¼æ•°æ®</p>
<p>ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼š   åªä¼šç”¨åˆ°beforeCreate å’Œ created ä¼šç”¨åˆ°ã€‚</p>
<p>è¿™å°±æ˜¯è¯´ä»»ä½•å…¶ä»–ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¾‹å¦‚ beforeMount æˆ– mountedï¼‰ï¼Œåªä¼šåœ¨å®¢æˆ·ç«¯æ‰§è¡Œã€‚</p>
<p>æ­¤å¤–è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ åº”è¯¥é¿å…åœ¨ beforeCreate å’Œ created ç”Ÿå‘½å‘¨æœŸæ—¶äº§ç”Ÿå…¨å±€å‰¯ä½œç”¨çš„ä»£ç ï¼Œä¾‹å¦‚åœ¨å…¶ä¸­ä½¿ç”¨ setInterval è®¾ç½® timerã€‚åœ¨çº¯å®¢æˆ·ç«¯(client-side only)çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ª timerï¼Œç„¶ååœ¨ beforeDestroy æˆ– destroyed ç”Ÿå‘½å‘¨æœŸæ—¶å°†å…¶é”€æ¯ã€‚ä½†æ˜¯ï¼Œç”±äºåœ¨ SSR æœŸé—´å¹¶ä¸ä¼šè°ƒç”¨é”€æ¯é’©å­å‡½æ•°ï¼Œæ‰€ä»¥ timer å°†æ°¸è¿œä¿ç•™ä¸‹æ¥ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œè¯·å°†å‰¯ä½œç”¨ä»£ç ç§»åŠ¨åˆ° beforeMount æˆ– mounted ç”Ÿå‘½å‘¨æœŸä¸­ã€‚</p>
<p>é€šç”¨ä»£ç ä¸å¯æ¥å—ç‰¹å®šå¹³å°çš„ APIï¼Œå› æ­¤å¦‚æœä½ çš„ä»£ç ä¸­ï¼Œç›´æ¥ä½¿ç”¨äº†åƒ window æˆ– documentï¼Œè¿™ç§ä»…æµè§ˆå™¨å¯ç”¨çš„å…¨å±€å˜é‡ï¼Œåˆ™ä¼šåœ¨ Node.js ä¸­æ‰§è¡Œæ—¶æŠ›å‡ºé”™è¯¯ï¼Œåä¹‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<p>å¯¹äºå…±äº«äºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼Œä½†ç”¨äºä¸åŒå¹³å° API çš„ä»»åŠ¡(task)ï¼Œå»ºè®®å°†å¹³å°ç‰¹å®šå®ç°åŒ…å«åœ¨é€šç”¨ API ä¸­ï¼Œæˆ–è€…ä½¿ç”¨ä¸ºä½ æ‰§è¡Œæ­¤æ“ä½œçš„ libraryã€‚ä¾‹å¦‚ï¼Œaxios æ˜¯ä¸€ä¸ª HTTP å®¢æˆ·ç«¯ï¼Œå¯ä»¥å‘æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½æš´éœ²ç›¸åŒçš„ APIã€‚</p>
<p>å¯¹äºä»…æµè§ˆå™¨å¯ç”¨çš„ APIï¼Œé€šå¸¸æ–¹å¼æ˜¯ï¼Œåœ¨ã€Œçº¯å®¢æˆ·ç«¯(client-only)ã€çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¸­æƒ°æ€§è®¿é—®(lazily access)å®ƒä»¬ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œè€ƒè™‘åˆ°å¦‚æœç¬¬ä¸‰æ–¹ library ä¸æ˜¯ä»¥ä¸Šé¢çš„é€šç”¨ç”¨æ³•ç¼–å†™ï¼Œåˆ™å°†å…¶é›†æˆåˆ°æœåŠ¡å™¨æ¸²æŸ“çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå¯èƒ½ä¼šå¾ˆæ£˜æ‰‹ã€‚ä½ å¯èƒ½è¦é€šè¿‡æ¨¡æ‹Ÿ(mock)ä¸€äº›å…¨å±€å˜é‡æ¥ä½¿å…¶æ­£å¸¸è¿è¡Œï¼Œä½†è¿™åªæ˜¯ hack çš„åšæ³•ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå¹²æ‰°åˆ°å…¶ä»– library çš„ç¯å¢ƒæ£€æµ‹ä»£ç ã€‚</p>
<p>é¿å…çŠ¶æ€å•ä¾‹</p>
<p>éœ€è¦æå‰çŸ¥é“å“ªäº›ç»„ä»¶æœ‰ajaxè¯·æ±‚ï¼Œç­‰æŠŠè¿™äº›è¯·æ±‚éƒ½è¿”å›äº†æ•°æ®ä¹‹åï¼Œæ‰å¼€å§‹ç»„ä»¶çš„æ¸²æŸ“ã€‚</p>
<p>æ˜¯å¦å¿…é¡»ä½¿ç”¨vueXæ˜¯çš„ï¼Œå½“é¢„å…ˆè·å–åˆ°ajaxçš„æ•°æ®åï¼ŒVueç»„ä»¶è¿˜æ²¡å¼€å§‹æ¸²æŸ“ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¾—æŠŠæ•°æ®å…ˆå­˜åœ¨æŸä¸ªåœ°æ–¹ã€‚</p>
<p>å½“Vueç»„ä»¶å¼€å§‹æ¸²æŸ“çš„æ—¶å€™ï¼Œè¿˜å¾—æŠŠæ•°æ®æ‹¿å‡ºæ¥ï¼Œæ­£ç¡®çš„ä¼ é€’åˆ°å„ä¸ªç»„ä»¶ä¸­ã€‚</p>
<p>åœ¨æµè§ˆå™¨æ¸²æŸ“çš„æ—¶å€™ï¼Œéœ€è¦æ­£ç¡®è§£æwindow.INITIAL_STATE,å¹¶ä¼ é€’åˆ°å„ä¸ªç»„ä»¶ä¸­ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬éœ€è¦æœ‰è¿™ä¹ˆä¸€ä¸ªç‹¬ç«‹äºè§†å›¾ä»¥å¤–çš„åœ°æ–¹ï¼Œæ¥å­˜å‚¨ ç®¡ç†å’Œä¼ é€’æ•°æ®ã€‚è¿™å°±æ˜¯VueXå­˜åœ¨çš„ç†ç”±ã€‚</p>
<p>åç«¯å·²ç»æŠŠajaxæ•°æ®è½¬æ¢æˆhtmlæ•°æ®äº†ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦æŠŠajaxæ•°æ®é€šè¿‡window.INITIAL_STATEä¼ é€’åˆ°å‰ç«¯ï¼Ÿå› ä¸ºå‰ç«¯æ¸²æŸ“çš„æ—¶å€™ä»ç„¶éœ€è¦çŸ¥é“è¿™äº›æ•°æ®ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªç»„ä»¶ï¼Œç»™ä»–ç»‘å®šä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»çš„æ—¶å€™ï¼Œæ‰“å°this.msg.ç°åœ¨åç«¯æ˜¯æŠŠç»„ä»¶htmlæ¸²æŸ“å‡ºæ¥äº†ï¼Œä½†æ˜¯äº‹ä»¶çš„ç»‘å®šè‚¯å®šè¿˜æ˜¯å¾—æœ‰æµè§ˆå™¨æ¥å®Œæˆï¼Œå¦‚æœæµè§ˆå™¨æ‹¿ä¸åˆ°è·ŸæœåŠ¡å™¨ç«¯ç›¸åŒçš„æ•°æ®ï¼Œåœ¨è§¦å‘ç‚¹å‡»äº‹ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªmsgå­—æ®µå»å“ªé‡Œæ‰¾å‘¢ï¼Ÿ</p>
<h3 id="åå‘ä»£ç†çš„ä½œç”¨"><a href="#åå‘ä»£ç†çš„ä½œç”¨" class="headerlink" title="åå‘ä»£ç†çš„ä½œç”¨"></a>åå‘ä»£ç†çš„ä½œç”¨</h3><ul>
<li>ä¿æŠ¤ç½‘ç«™çš„å®‰å…¨</li>
<li>é€šè¿‡é…ç½®ç¼“å­˜åŠŸèƒ½åŠ é€Ÿwebè¯·æ±‚</li>
<li>å®ç°è´Ÿè½½å‡è¡¡</li>
</ul>
<p>éé˜»å¡ã€é«˜å¹¶å‘è¿æ¥ï¼šå®˜æ–¹æµ‹è¯•èƒ½å¤Ÿæ”¯æ’‘5ä¸‡å¹¶å‘å¾—ç›ŠäºNginxä½¿ç”¨äº†æœ€æ–°çš„epollæ¨¡å‹ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2021/01/10/artTemplateé«˜æ•ˆçš„ç§˜å¯†/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/10/artTemplateé«˜æ•ˆçš„ç§˜å¯†/" itemprop="url">artTemplateé«˜æ•ˆçš„ç§˜å¯†</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-01-10T12:46:03+08:00">
                2021-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="artTemplateé«˜æ•ˆçš„ç§˜å¯†"><a href="#artTemplateé«˜æ•ˆçš„ç§˜å¯†" class="headerlink" title="artTemplateé«˜æ•ˆçš„ç§˜å¯†"></a>artTemplateé«˜æ•ˆçš„ç§˜å¯†</h2><h3 id="é¢„ç¼–è¯‘"><a href="#é¢„ç¼–è¯‘" class="headerlink" title="é¢„ç¼–è¯‘"></a>é¢„ç¼–è¯‘</h3><p>arttemplateçš„ç¼–è¯‘èµ‹å€¼è¿‡ç¨‹æ˜¯åœ¨æ¸²æŸ“ä¹‹å‰å®Œæˆçš„ï¼Œè¿™ç§æ–¹å¼ç§°ä¹‹ä¸ºâ€˜é¢„ç¼–è¯‘â€™ã€‚artTemplateæ¨¡æ¿ç¼–è¯‘å™¨ä¼šæ ¹æ®ä¸€äº›ç®€å•çš„è§„åˆ™æå–å¥½æ‰€æœ‰æ¨¡æ¿å˜é‡ï¼Œå£°æ˜åœ¨æ¸²æŸ“å‡½æ•°å¤´éƒ¨ï¼Œè¿™ä¸ªå‡½æ•°ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š    </p>
<pre><code>var render = function($data){
    var content = $data.content,
    $out = &apos;&apos;;
    $out += &apos;&lt;h3&gt;&apos;;
    if(typeof content === &apos;string&apos;){
            $out += content;
    }
    $out += &apos;&lt;h3&gt;&apos;;
    return $out;
}</code></pre><p>è¿™ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°å°±å¦‚åŒä¸€ä¸ªæ‰‹å·¥ç¼–å†™çš„JavaScriptå‡½æ•°ä¸€æ ·ï¼ŒåŒç­‰çš„æ‰§è¡Œæ¬¡æ•°ä¸‹æ— è®ºCPUè¿˜æ˜¯å†…å­˜å ç”¨æœ‰æœ‰æ˜¾è‘—å‡å°‘ï¼Œæ€§èƒ½è¿‘ä¹æé™ã€‚</p>
<h3 id="æ›´å¿«çš„å­—ç¬¦ä¸²ç›¸åŠ æ–¹å¼"><a href="#æ›´å¿«çš„å­—ç¬¦ä¸²ç›¸åŠ æ–¹å¼" class="headerlink" title="æ›´å¿«çš„å­—ç¬¦ä¸²ç›¸åŠ æ–¹å¼"></a>æ›´å¿«çš„å­—ç¬¦ä¸²ç›¸åŠ æ–¹å¼</h3><p>å¾ˆå¤šäººè¯¯ä»¥ä¸ºæ•°ç»„ push æ–¹æ³•æ‹¼æ¥å­—ç¬¦ä¸²ä¼šæ¯” += å¿«ï¼Œè¦çŸ¥é“è¿™ä»…ä»…æ˜¯ IE6-8 çš„æµè§ˆå™¨ä¸‹ã€‚å®æµ‹è¡¨æ˜ç°ä»£æµè§ˆå™¨ä½¿ç”¨ += ä¼šæ¯”æ•°ç»„ push æ–¹æ³•å¿«ï¼Œè€Œåœ¨ v8 å¼•æ“ä¸­ï¼Œä½¿ç”¨ += æ–¹å¼æ¯”æ•°ç»„æ‹¼æ¥å¿« 4.7 å€ã€‚æ‰€ä»¥ artTemplate æ ¹æ® javascript å¼•æ“ç‰¹æ€§é‡‡ç”¨äº†ä¸¤ç§ä¸åŒçš„å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2021/01/10/PropTypes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/10/PropTypes/" itemprop="url">PropTypes</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-01-10T12:46:03+08:00">
                2021-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="PropTypes"><a href="#PropTypes" class="headerlink" title="PropTypes"></a>PropTypes</h3><p>åœ¨React15.5ç‰ˆæœ¬ä¹‹åï¼ŒReactçš„æ ¡éªŒå·¥ä½œè½¬ç§»åˆ°äº†ä¸€ä¸ªå•ç‹¬çš„åº“ã€‚<br>ä½¿ç”¨çš„æ—¶å€™å®‰è£…prop-typesåº“ï¼Œå®ƒä¼šå¯¼å‡ºä¸€ç³»åˆ—çš„éªŒè¯å™¨ï¼Œç”¨äºç¡®ä¿æ”¶åˆ°çš„æ•°æ®æ˜¯æœ‰æ•ˆçš„ã€‚</p>
<p>æœ‰å¦‚ä¸‹ä¸åŒçš„éªŒè¯å™¨ï¼š</p>
<pre><code>import PropTypes from &apos;prop-types&apos;;

MyComponents.propTypes = {
// ä½ å¯ä»¥æŒ‡å®šæŸä¸€ä¸ªpropæ˜¯ä¸€ä¸ªç‰¹å®šçš„jsç±»å‹ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿™äº›éƒ½æ˜¯å¯é€‰çš„
  optionalArray: PropTypes.array,
  optionalBool: PropTypes.bool,
  optionalFunc: PropTypes.func,
  optionalNumber: PropTypes.number,
  optionalObject: PropTypes.object,
  optionalString: PropTypes.string,
  optionalSymbol: PropTypes.symbol,

  optionalNode: PropTypes.node, // è¯¥ç±»å‹çš„propä»£è¡¨çš„æ˜¯ä¸€ä¸ªèŠ‚ç‚¹
  optionalElement: PropTypes.element,  // ä»£è¡¨ä¸€ä¸ªReact element 
  optionalMessage: PropTypes.instanceOf(Message), // å£°æ˜è¿™æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹

  optionalEnum: PropTypes.oneOf([&apos;News&apos;, &apos;Photos&apos;]), // ä¿è¯å€¼åœ¨æŸä¸€ä¸ªç¡®å®šçš„èŒƒå›´å†…

optionalUnion: PropTypes.oneOfType([
PropTypes.string,
PropTypes.number,
PropTypes.instanceOf(Message)
  ]),                     // ä¿è¯æ˜¯å…¶ä¸­çš„ä¸€ç§ç±»å‹çš„ä¸€ä¸ªå¯¹è±¡
  optionalArrayOf: PropTypes.arrayOf(PropTypes.number),  // æŸç§ç‰¹å®šç±»å‹çš„æ•°ç»„
      optionalObjectOf: PropTypes.objectOf(PropTypes.number),// å…·æœ‰æŸç§ç‰¹å®šç±»å‹å±æ€§çš„å¯¹è±¡
      optionalObjectWithShape: PropTypes.shape({
color: PropTypes.string,
fontSize: PropTypes.number
  }),      // ç›´æ¥æŒ‡å®šé•¿æˆä»€ä¹ˆæ ·å­çš„å¯¹è±¡
 requiredFunc: PropTypes.func.isRequired,    // å¯ä»¥åœ¨åé¢è¿½åŠ isRequired æ¥ç¡®ä¿æä¾›æŒ‡å®šç±»å‹çš„propï¼ˆå¦‚æœæ²¡æœ‰æŒ‡å®šå°±ä¼šå‘å‡ºè­¦å‘Šï¼‰
 requiredAny: PropTypes.any.isRequired,    // ä»£è¡¨ä»»æ„ç±»å‹çš„æ•°æ®ï¼ˆä½†æ˜¯å¿…é¡»è¦æœ‰ï¼‰

 // ä¸‹é¢æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰éªŒè¯å™¨
 customProp: function(props, propName, componentName) {
if (!/matchme/.test(props[propName])) {
  return new Error(
    &apos;Invalid prop `&apos; + propName + &apos;` supplied to&apos; +
    &apos; `&apos; + componentName + &apos;`. Validation failed.&apos;
  );
}
  },
      customArrayProp: PropTypes.arrayOf(function(propValue, key, componentName, location, propFullName) {
    if (!/matchme/.test(propValue[key])) {
      return new Error(
        &apos;Invalid prop `&apos; + propFullName + &apos;` supplied to&apos; +
        &apos; `&apos; + componentName + &apos;`. Validation failed.&apos;
      );
    }
  })
};
}</code></pre><h3 id="å¯ä»¥æŒ‡å®šé»˜è®¤çš„å±æ€§"><a href="#å¯ä»¥æŒ‡å®šé»˜è®¤çš„å±æ€§" class="headerlink" title="å¯ä»¥æŒ‡å®šé»˜è®¤çš„å±æ€§"></a>å¯ä»¥æŒ‡å®šé»˜è®¤çš„å±æ€§</h3><pre><code>class Greeting extends React.Component {
  render() {
    return (
      &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;
    );
  }
}

    // Specifies the default values for props:
Greeting.defaultProps = {
  name: &apos;Stranger&apos;
};

// Renders &quot;Hello, Stranger&quot;:
ReactDOM.render(
  &lt;Greeting /&gt;,
  document.getElementById(&apos;example&apos;)
);


é»˜è®¤å±æ€§å¯ä»¥ä¿è¯å½“ç»„ä»¶ä¸èƒ½ä»çˆ¶ç»„ä»¶è·å–å±æ€§çš„æ—¶å€™ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªé»˜è®¤çš„å±æ€§ï¼Œç„¶åæˆ‘ä»¬é…ç½®çš„å±æ€§éªŒè¯å™¨ç…§æ ·ä¼šå¯¹é»˜è®¤å±æ€§åšæ£€æŸ¥ã€‚</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2021/01/10/Swiper/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/10/Swiper/" itemprop="url">swiper</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-01-10T12:46:03+08:00">
                2021-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Swiper"><a href="#Swiper" class="headerlink" title="Swiper"></a>Swiper</h2><h3 id="initialSlide"><a href="#initialSlide" class="headerlink" title="initialSlide"></a>initialSlide</h3><p>è®¾å®šåˆå§‹åŒ–æ—¶å€™slideçš„ç´¢å¼•<br>é»˜è®¤0</p>
<pre><code>&lt;script&gt;
    var ms = new Swiper(&apos;.sc&apos;,{
        initialSlide: 2,
    })
&lt;/script&gt;</code></pre><h3 id="autoplay"><a href="#autoplay" class="headerlink" title="autoplay"></a>autoplay</h3><p>è‡ªåŠ¨åˆ‡æ¢çš„æ—¶é—´é—´éš”</p>
<h3 id="autoplayDisableOnInteraction"><a href="#autoplayDisableOnInteraction" class="headerlink" title="autoplayDisableOnInteraction"></a>autoplayDisableOnInteraction</h3><p>ç”¨æˆ·æ“ä½œswiperä¹‹åï¼Œæ˜¯å¦ç¦æ­¢autoplayã€‚é»˜è®¤ä¸ºtrueï¼šåœæ­¢ã€‚</p>
<h3 id="autoplayStopOnLast"><a href="#autoplayStopOnLast" class="headerlink" title="autoplayStopOnLast"></a>autoplayStopOnLast</h3><p>å¦‚æœè®¾ç½®ä¸ºtrueï¼Œå½“åˆ‡æ¢åˆ°æœ€åä¸€ä¸ªslideæ—¶åœæ­¢è‡ªåŠ¨åˆ‡æ¢ã€‚ï¼ˆloopæ¨¡å¼ä¸‹æ— æ•ˆï¼‰ã€‚</p>
<h3 id="hashnav"><a href="#hashnav" class="headerlink" title="hashnav"></a>hashnav</h3><p>å¦‚éœ€ä¸ºæ¯ä¸ªslideå¢åŠ æ•£åˆ—å¯¼èˆªï¼ˆæœ‰ç‚¹åƒé”šé“¾æ¥ï¼‰ã€‚å°†hashnavè®¾ç½®ä¸ºtrueï¼Œå¹¶åœ¨æ¯ä¸ªslideå¤„å¢åŠ data-hashå±æ€§ã€‚<br>è¿™æ ·å½“ä½ çš„swiperåˆ‡æ¢æ—¶ä½ çš„é¡µé¢urlå°±ä¼šåŠ ä¸Šè¿™ä¸ªå±æ€§çš„å€¼äº†ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡è¿›å…¥é¡µé¢æ—¶ä¿®æ”¹é¡µé¢urlè®©swiperåœ¨åˆå§‹åŒ–æ—¶åˆ‡æ¢åˆ°æŒ‡å®šçš„slideã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2021/01/10/Git2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/10/Git2/" itemprop="url">git</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-01-10T12:46:03+08:00">
                2021-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h3><h4 id="bugåˆ†æ”¯"><a href="#bugåˆ†æ”¯" class="headerlink" title="bugåˆ†æ”¯"></a>bugåˆ†æ”¯</h4><p>è½¯ä»¶å¼€å‘ä¸­bugå°±åƒå®¶å¸¸ä¾¿é¥­ä¸€æ ·ï¼Œæœ‰äº†bugå°±éœ€è¦ä¿®å¤ï¼Œåœ¨gitä¸­ç”±äºåˆ†æ”¯æ˜¯å¦‚æ­¤çš„å¼ºå¤§ï¼Œæ‰€ä»¥ï¼Œæ¯ä¸ªbugéƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªæ–°çš„ä¸´æ—¶åˆ†æ”¯æ¥ä¿®å¤ï¼Œä¿®å¤åï¼Œåˆå¹¶åˆ†æ”¯ï¼Œç„¶åå°†ä¸´æ—¶åˆ†æ”¯åˆ é™¤ã€‚å½“ä½ æ¥å—åˆ°ä¸€ä¸ªä»£å·ä¸º001çš„bugçš„ä»»åŠ¡çš„æ—¶å€™ï¼Œå¾ˆè‡ªç„¶çš„ï¼Œä½ æƒ³åˆ›å»ºä¸€ä¸ªåˆ†æ”¯issue-001æ¥ä¿®å¤å®ƒï¼Œä½†æ˜¯ï¼Œå½“å‰ä½ æ­£åœ¨devä¸Šè¿›è¡Œçš„å·¥ä½œè¿˜æ²¡æœ‰æäº¤ï¼Œå¹¶ä¸æ˜¯ä¸æƒ³æäº¤ï¼Œè€Œæ˜¯å·¥ä½œåªè¿›è¡Œåˆ°ä¸€åŠï¼Œè¿˜æ²¡æ³•æäº¤ï¼Œé¢„è®¡å®Œæˆè¿˜éœ€è¦1å¤©çš„æ—¶é—´ä½†æ˜¯ï¼Œå¿…é¡»åœ¨2ä¸ªå°æ—¶ä¹‹å†…ä¿®å¤ï¼Œæ€ä¹ˆåŠï¼Ÿå¹¸å¥½gitæä¾›äº†ä¸€ä¸ªstashåŠŸèƒ½ï¼Œå¯ä»¥æŠŠå½“å‰å·¥ä½œç°åœºå‚¨è—èµ·æ¥ï¼Œç­‰ä»¥åæ¢å¤ç°åœºåç»§ç»­å·¥ä½œã€‚</p>
<pre><code>$ git stash
saved working directory and index state WIP on dev:6224937 add merge
HEAD is now at 6224937 add merge</code></pre><p>ç°åœ¨ï¼Œç”¨git statusæŸ¥çœ‹å·¥ä½œåŒºï¼Œå°±æ˜¯å¹²å‡€çš„ï¼ˆé™¤éæœ‰æ²¡æœ‰è¢«gitç®¡ç†çš„æ–‡ä»¶ï¼‰ï¼Œå› æ­¤å¯ä»¥æ”¾å¿ƒçš„åˆ›å»ºåˆ†æ”¯æ¥ä¿®å¤bugï¼Œé¦–å…ˆè¦ç¡®å®šåœ¨å“ªä¸ªåˆ†æ”¯ä¸Šä¿®å¤bugï¼Œå‡å®šéœ€è¦åœ¨masteråˆ†æ”¯ä¸Šä¿®å¤ï¼Œå°±ä»masteråˆ›å»ºä¸´æ—¶åˆ†æ”¯</p>
<pre><code>$ git chekcout master
Switched to branch &apos;master&apos;
Your branch is ahead of &apos;origin/master&apos; by 6 commits
$ git checkout -b issue-01
Switched to a now branch &apos;issue001&apos;</code></pre><p>ç°åœ¨ä¿®å¤bugï¼Œä¿®å¤å®Œåæäº¤ã€‚ä¿®å¤å®Œåï¼Œåˆ‡æ¢åˆ°masteråˆ†æ”¯å¹¶å®Œæˆåˆå¹¶ï¼Œæœ€ååˆ é™¤issue-001åˆ†æ”¯ã€‚OKç°åœ¨æ˜¯æ—¶å€™æ¥ç€å›åˆ°devåˆ†æ”¯å¹²æ´»äº†ã€‚</p>
<pre><code>$ git checkout dev
Switched to branch &apos;dev&apos;</code></pre><p>æ­¤æ—¶æŸ¥çœ‹åˆ†æ”¯çš„è¯ï¼Œä¼šå‘ç°å·¥ä½œåŒºæ˜¯å¹²å‡€çš„ï¼Œåˆšæ‰çš„å·¥ä½œç°æˆå­˜åˆ°å“ªé‡Œå»äº†ï¼Ÿå¯ä»¥ç”¨git stash listå‘½ä»¤çœ‹çœ‹</p>
<pre><code>$ git stash list
stash@{0}:WIP on dev:6224937 add merge</code></pre><p>å·¥ä½œç°åœºè¿˜åœ¨ï¼ŒgitæŠŠstashå†…å®¹å­˜åœ¨æŸä¸ªåœ°æ–¹äº†ï¼Œä½†æ˜¯éœ€è¦æ¢å¤ä¸€ä¸‹ï¼Œæœ‰ä¸¤ä¸ªåŠæ³•ï¼šä¸€ä¸ªæ˜¯ç”¨git stash applyæ¢å¤ï¼Œä½†æ˜¯æ¢å¤åï¼Œstashå†…å®¹å¹¶ä¸åˆ é™¤ï¼Œä½ éœ€è¦ç”¨git stash dropæ¥åˆ é™¤</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2021/01/10/PPPoe/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/10/PPPoe/" itemprop="url">PPPoE</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-01-10T12:46:03+08:00">
                2021-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="PPPoe"><a href="#PPPoe" class="headerlink" title="PPPoe"></a>PPPoe</h3><p>Point to Point Protocol over Ethernet,ä»¥å¤ªç½‘ä¸Šçš„ç‚¹å¯¹ç‚¹åè®®ï¼Œæ˜¯å°†ç‚¹å¯¹ç‚¹åè®®å°è£…åœ¨ä»¥å¤ªç½‘æ¡†æ¶ä¸­çš„ä¸€ç§ç½‘ç»œéš§é“åè®®ã€‚ç”±äºåè®®ä¸­é›†æˆäº†PPPåè®®ï¼Œæ‰€ä»¥å®ç°å‡ºä¼ ç»Ÿä»¥å¤ªç½‘ä¸èƒ½æä¾›çš„èº«ä»½éªŒè¯ã€åŠ å¯†ã€ä»¥åŠå‹ç¼©ç­‰åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ç”¨äºç¼†çº¿è°ƒåˆ¶è§£è°ƒå™¨å’Œæ•°å­—ç”¨æˆ·çº¿è·¯ç­‰ä»¥å¤ªåè®®å‘ç”¨æˆ·æä¾›æ¥å…¥æœåŠ¡çš„åè®®ä½“ç³»ã€‚</p>
<h3 id="ä»¥å¤ª"><a href="#ä»¥å¤ª" class="headerlink" title="ä»¥å¤ª"></a>ä»¥å¤ª</h3><p>ä»¥å¤ªæ˜¯å¤å¸Œè…Šå“²å­¦å®¶äºšé‡Œå£«å¤šå¾·æ‰€è®¾æƒ³çš„ä¸€ç§ç‰©è´¨ï¼Œ19ä¸–çºªçš„ç‰©ç†å­¦å®¶ï¼Œæ›¾ç»è®¤ä¸ºå®ƒæ˜¯ä¸€ç§å‡æƒ³çš„ç”µç£æ³¢çš„ä¼ æ’­åª’ä»‹ã€‚</p>
<h3 id="ç‚¹å¯¹ç‚¹åè®®"><a href="#ç‚¹å¯¹ç‚¹åè®®" class="headerlink" title="ç‚¹å¯¹ç‚¹åè®®"></a>ç‚¹å¯¹ç‚¹åè®®</h3><p>ç¼©å†™PPPå·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ã€‚é€šå¸¸ç”¨åœ¨ä¸¤èŠ‚ç‚¹ä¹‹é—´åˆ›å»ºç›´æ¥çš„é“¾æ¥ï¼Œå¹¶å¯ä»¥æä¾›è®¤è¯ã€ä¼ è¾“åŠ å¯†ã€ä»¥åŠå‹ç¼©ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2021/01/10/Functional Components/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/10/Functional Components/" itemprop="url">äº‹ä»¶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-01-10T12:46:03+08:00">
                2021-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><p>jsç¨‹åºé‡‡ç”¨äº†å¼‚æ­¥äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ¨¡å‹ã€‚åœ¨è¿™ç§ç¨‹åºè®¾è®¡é£æ ¼ä¸‹ï¼Œå½“æ–‡æ¡£ï¼Œæµè§ˆå™¨ï¼Œå…ƒç´ ï¼Œæˆ–è€…ä¸ä¹‹ç›¸å…³çš„å¯¹è±¡å‘ç”ŸæŸäº›æœ‰è¶£çš„äº‹æƒ…æ—¶ï¼Œwebæµè§ˆå™¨å°±ä¼šäº§ç”Ÿäº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œå½“webæµè§ˆå™¨åŠ è½½å®Œæ–‡æ¡£ï¼Œç”¨æˆ·æŠŠé¼ æ ‡æŒ‡é’ˆç§»åŠ¨åˆ°è¶…é“¾æ¥ä¸Šæˆ–è€…æ•²å‡»é”®ç›˜æ—¶å€™ï¼Œwebæµè§ˆå™¨éƒ½ä¼šäº§ç”Ÿäº‹ä»¶ã€‚å¦‚æœ JavaScript åº”ç”¨ç¨‹åºå…³æ³¨ç‰¹å®šç±»å‹çš„äº‹ä»¶ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥æ³¨å†Œå½“è¿™ç±»äº‹ä»¶å‘ç”Ÿæ—¶è¦è°ƒç”¨çš„ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ã€‚è¯·æ³¨æ„ï¼Œè¿™ç§é£æ ¼å¹¶ä¸åªåº”ç”¨äº Web ç¼–ç¨‹ï¼Œæ‰€æœ‰ä½¿ç”¨å›¾å½¢ç”¨æˆ·ç•Œé¢çš„åº”ç”¨ç¨‹åºéƒ½é‡‡ç”¨äº†å®ƒï¼Œå®ƒä»¬é™å¾…æŸäº›äº‹æƒ…å‘ç”Ÿï¼ˆå³ï¼Œå®ƒä»¬ç­‰å¾…äº‹ä»¶å‘ç”Ÿï¼‰ï¼Œç„¶åå®ƒä»¬å“åº”ã€‚<br>è¯·æ³¨æ„ï¼Œäº‹ä»¶æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªéœ€è¦å®šä¹‰çš„æŠ€æœ¯åè¯ã€‚ç®€è€Œè¨€ä¹‹ï¼Œäº‹ä»¶å°±æ˜¯ Web æµè§ˆå™¨é€šçŸ¥åº”ç”¨ç¨‹åºå‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…ï¼Œè¿™ç§åœ¨ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹ä¸­è¢«ç§°ä¸ºè§‚å¯Ÿå‘˜æ¨¡å¼ã€‚</p>
<h3 id="offsetWidth-width-clientWidth"><a href="#offsetWidth-width-clientWidth" class="headerlink" title="offsetWidth width clientWidth"></a>offsetWidth width clientWidth</h3><p>width: cssä¸­è®¾ç½®çš„å¤§å°<br>clientWidth: width + padding<br>offsetWidth: width + padding + border </p>
<p>documentElementå±æ€§è¿”å›æ–‡æ¡£çš„æ ¹èŠ‚ç‚¹<br>è¯­æ³•ï¼š<br>documentObject.documentElement</p>
<p>document.body   è¿”å›html domä¸­çš„bodyèŠ‚ç‚¹å³ <body><br>document.documentElement  è¿”å›html domä¸­çš„rootèŠ‚ç‚¹  å³<html></html></body></p>
<h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>åœ¨è·å–scrollTopæ–¹é¢çš„å·®å¼‚<br>å…¼å®¹æ–¹æ¡ˆï¼š   var scrollTop = document.documentElement.scrollTop || docuent.body.scrollTop</p>
<h3 id="scrollTop"><a href="#scrollTop" class="headerlink" title="scrollTop"></a>scrollTop</h3><p>å¯ä»¥è·å–æˆ–è€…è®¾ç½®ä¸€ä¸ªå…ƒç´ çš„å†…å®¹å‚ç›´æ»šåŠ¨çš„åƒç´ æ•°ã€‚ä¸€ä¸ªå…ƒç´ çš„scrollTopå€¼æ˜¯è¿™ä¸ªå…ƒç´ çš„é¡¶éƒ¨åˆ°å®ƒçš„æœ€é¡¶éƒ¨å¯è§å†…å®¹çš„è·ç¦»çš„åº¦é‡ã€‚å½“ä¸€ä¸ªå…ƒç´ çš„å†…å®¹æ²¡æœ‰äº§ç”Ÿå‚ç›´æ–¹å‘çš„æ»šåŠ¨æ¡ï¼Œé‚£ä¹ˆå®ƒçš„scrollTopå€¼æ˜¯0.</p>
<h3 id="htmläº‹ä»¶å¤„ç†ç¨‹åº"><a href="#htmläº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="htmläº‹ä»¶å¤„ç†ç¨‹åº"></a>htmläº‹ä»¶å¤„ç†ç¨‹åº</h3><p>æŸä¸ªå…ƒç´ æ”¯æŒé¢æ¯ç§äº‹ä»¶ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸ä¹‹ç›¸åº”çš„äº‹ä»¶å¤„ç†ç¨‹åºåŒåçš„htmlç‰¹æ€§æ¥æŒ‡å®šã€‚è¿™ä¸ªç‰¹æ€§çš„å€¼åº”è¯¥æ˜¯èƒ½å¤Ÿæ‰§è¡Œçš„javascriptä»£ç ã€‚ä¾‹å¦‚è¦åœ¨æŒ‰é’®è¢«å•å‡»æ—¶æ‰§è¡Œä¸€äº›JavaScriptï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·ç¼–å†™ä»£ç ï¼š</p>
<pre><code>&lt;input type=&quot;button&quot; value=&quot;Click Me&quot; onclick=&quot;console.log(&apos;Clicked&apos;)&quot;&gt;</code></pre><h3 id="clientX-äº‹ä»¶å±æ€§ï¼Œæ˜¯ä¸€ä¸ªäº‹ä»¶å±æ€§ã€‚è¿”å›å½“äº‹ä»¶è¢«è§¦å‘æ—¶é¼ æ ‡æŒ‡é’ˆç›¸å¯¹äºæµè§ˆå™¨é¡µé¢ï¼ˆæˆ–è€…å®¢æˆ·åŒºï¼‰çš„æ°´å¹³åæ ‡ã€‚å®¢æˆ·åŒºåŸŸæŒ‡çš„æ˜¯å½“å‰çš„çª—å£ã€‚"><a href="#clientX-äº‹ä»¶å±æ€§ï¼Œæ˜¯ä¸€ä¸ªäº‹ä»¶å±æ€§ã€‚è¿”å›å½“äº‹ä»¶è¢«è§¦å‘æ—¶é¼ æ ‡æŒ‡é’ˆç›¸å¯¹äºæµè§ˆå™¨é¡µé¢ï¼ˆæˆ–è€…å®¢æˆ·åŒºï¼‰çš„æ°´å¹³åæ ‡ã€‚å®¢æˆ·åŒºåŸŸæŒ‡çš„æ˜¯å½“å‰çš„çª—å£ã€‚" class="headerlink" title="clientX äº‹ä»¶å±æ€§ï¼Œæ˜¯ä¸€ä¸ªäº‹ä»¶å±æ€§ã€‚è¿”å›å½“äº‹ä»¶è¢«è§¦å‘æ—¶é¼ æ ‡æŒ‡é’ˆç›¸å¯¹äºæµè§ˆå™¨é¡µé¢ï¼ˆæˆ–è€…å®¢æˆ·åŒºï¼‰çš„æ°´å¹³åæ ‡ã€‚å®¢æˆ·åŒºåŸŸæŒ‡çš„æ˜¯å½“å‰çš„çª—å£ã€‚"></a>clientX äº‹ä»¶å±æ€§ï¼Œæ˜¯ä¸€ä¸ªäº‹ä»¶å±æ€§ã€‚è¿”å›å½“äº‹ä»¶è¢«è§¦å‘æ—¶é¼ æ ‡æŒ‡é’ˆç›¸å¯¹äºæµè§ˆå™¨é¡µé¢ï¼ˆæˆ–è€…å®¢æˆ·åŒºï¼‰çš„æ°´å¹³åæ ‡ã€‚å®¢æˆ·åŒºåŸŸæŒ‡çš„æ˜¯å½“å‰çš„çª—å£ã€‚</h3><p>è¯­æ³•ï¼š   event.clientX</p>
<h3 id="scrollWidth-clientWidth-offsetWidth-çš„åŒºåˆ«"><a href="#scrollWidth-clientWidth-offsetWidth-çš„åŒºåˆ«" class="headerlink" title="scrollWidth clientWidth offsetWidth çš„åŒºåˆ«"></a>scrollWidth clientWidth offsetWidth çš„åŒºåˆ«</h3><p>è¯´æ˜ï¼š   scrollWidth: å¯¹è±¡å®é™…å†…å®¹çš„å®½åº¦ï¼ˆæ³¨æ„å¼ºè°ƒçš„æ˜¯å…ƒç´ ä¸­çš„å†…å®¹ï¼‰ï¼Œä¼šéšç€å¯¹è±¡ä¸­å†…å®¹è¶…è¿‡å¯æ˜¯åŒºåŸŸåè€Œå˜å¤§ã€‚</p>
<p>clientWidth :å¯¹è±¡å†…å®¹çš„å¯æ˜¯åŒºåŸŸçš„å®½åº¦ï¼Œä¸åŒ…æ‹¬æ»šåŠ¨æ¡è¾¹çº¿ï¼Œé™¤éå¯¹è±¡å…ƒç´ è‡ªèº«çš„æ˜¾ç¤ºå˜å¤§æ‰ä¼šå˜å¤§æ˜¯å…ƒç´ è‡ªèº«çš„ä¸€ä¸ªå¯è§åŒºåŸŸ</p>
<p>offsetWidthï¼š  å¯¹è±¡çš„æ•´ä½“çš„å®é™…å®½åº¦ï¼Œè·ŸclientWidthçš„åŒºåˆ«ä»…ä»…æ˜¯åŒ…æ‹¬æ»šåŠ¨æ¡è¾¹çº¿ï¼ŒåŒæ ·æ˜¯éšç€å¯¹è±¡çš„æ˜¾ç¤ºå¤§å°çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p>
<h3 id="target"><a href="#target" class="headerlink" title="target"></a>target</h3><p>åœ¨äº‹ä»¶å¤„ç†ç¨‹åºå†…éƒ¨ï¼Œå¯¹è±¡thiså§‹ç»ˆç­‰äºcurrentTargetçš„å€¼ï¼Œè€Œtargetåˆ™åªåŒ…å«äº‹ä»¶çš„å®é™…ç›®æ ‡ã€‚å¦‚æœç›´æ¥å°†äº‹ä»¶å¤„ç†ç¨‹åºæŒ‡å®šç»™äº†ç›®æ ‡å…ƒç´ ï¼Œåˆ™this currentTarget å’Œ targetåŒ…å«ç›¸åŒçš„å€¼ã€‚</p>
<pre><code>var btn = document.getElementById(&apos;myBtn&apos;)
btn.onclick = function(event) {
    console.log(event.currentTarget === this);  // true
    console.log(event.target === this) // true
}</code></pre><p>è¿™ä¸ªä¾‹å­æ£€æµ‹äº†currentTargetå’Œtargetä¸thisçš„å€¼ã€‚ç”±äºclickäº‹ä»¶çš„ç›®æ ‡æ˜¯æŒ‰é’®ï¼Œå› æ­¤ä¸‰ä¸ªå€¼æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å¦‚æœäº‹ä»¶å¤„ç†ç¨‹åºå­˜åœ¨äºæŒ‰é’®çš„çˆ¶èŠ‚ç‚¹ä¸­ï¼Œé‚£ä¹ˆè¿™äº›å€¼æ˜¯ä¸ç›¸åŒçš„</p>
<pre><code>document.body.onclick = function(event) {
    console.log(event.currentTarget === document.body)// true
    console.log(this === document.body) // true
    console.log(event.target === document.getElementById(&apos;myBtn&apos;))   // true
}</code></pre><p>å½“ç‚¹å‡»è¿™ä¸ªä¾‹å­ä¸­çš„æŒ‰é’®æ—¶å€™ï¼Œthiså’ŒcurrentTargetéƒ½ç­‰äºdocuent.body,å› ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºæ˜¯æ³¨å†Œåˆ°è¿™ä¸ªå…ƒç´ ä¸Šçš„ï¼Œç„¶è€Œï¼Œtargetå…ƒç´ å´ç­‰äºæŒ‰é’®å…ƒç´ ï¼Œå› ä¸ºå®ƒæ˜¯clickäº‹ä»¶çœŸæ­£çš„ç›®æ ‡ã€‚ç”±äºæŒ‰é’®ä¸Šå¹¶æ²¡æœ‰æ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åºï¼Œç»“æœ click äº‹ä»¶å°±å†’æ³¡åˆ°äº† document.bodyï¼Œåœ¨é‚£é‡Œäº‹ä»¶æ‰å¾—åˆ°äº†å¤„ç†ã€‚</p>
<p>äº‹ä»¶å¯¹è±¡çš„ eventPhase å±æ€§ï¼Œå¯ä»¥ç”¨æ¥ç¡®å®šäº‹ä»¶å½“å‰æ­£ä½äºäº‹ä»¶æµçš„å“ªä¸ªé˜¶æ®µã€‚å¦‚æœæ˜¯åœ¨æ•è·é˜¶æ®µè°ƒç”¨çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œé‚£ä¹ˆ eventPhase ç­‰äº 1ï¼›å¦‚æœäº‹ä»¶å¤„ç†ç¨‹åºå¤„äºç›®æ ‡å¯¹è±¡ä¸Šï¼Œåˆ™ eventPhase ç­‰äº 2ï¼›å¦‚æœæ˜¯åœ¨å†’æ³¡é˜¶æ®µè°ƒç”¨çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼ŒeventPhase ç­‰äº 3ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡â€œå¤„äºç›®æ ‡â€å‘ç”Ÿåœ¨å†’æ³¡é˜¶æ®µï¼Œä½† eventPhase ä»ç„¶ä¸€ç›´ç­‰äº 2ã€‚æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p>
<pre><code>var btn = document.getElementById(&quot;myBtn&quot;);</code></pre><p>btn.onclick = function(event){<br>    console.log(event.eventPhase); // 2<br>};<br>document.body.addEventListener(â€œclickâ€, function(event){<br>    console.log(event.eventPhase); // 1<br>}, true);<br>document.body.onclick = function(event){<br>    console.log(event.eventPhase); // 3<br>};</p>
<p>å½“å•å‡»è¿™ä¸ªä¾‹å­ä¸­çš„æŒ‰é’®æ—¶ï¼Œé¦–å…ˆæ‰§è¡Œçš„äº‹ä»¶å¤„ç†ç¨‹åºæ˜¯åœ¨æ•è·é˜¶æ®µè§¦å‘çš„æ·»åŠ åˆ° document.body ä¸­çš„é‚£ä¸€ä¸ªï¼Œç»“æœä¼šå¼¹å‡ºä¸€ä¸ªè­¦å‘Šæ¡†æ˜¾ç¤ºè¡¨ç¤º eventPhase çš„ 1ã€‚æ¥ç€ï¼Œä¼šè§¦å‘åœ¨æŒ‰é’®ä¸Šæ³¨å†Œçš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæ­¤æ—¶çš„ eventPhase å€¼ä¸º 2ã€‚æœ€åä¸€ä¸ªè¢«è§¦å‘çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæ˜¯åœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œçš„æ·»åŠ åˆ° document.body ä¸Šçš„é‚£ä¸€ä¸ªï¼Œæ˜¾ç¤º eventPhase çš„å€¼ä¸º 3ã€‚è€Œå½“ eventPhase ç­‰äº 2 æ—¶ï¼Œthisã€target å’Œ currentTarget å§‹ç»ˆéƒ½æ˜¯ç›¸ç­‰çš„</p>
<p>åªæœ‰åœ¨äº‹ä»¶å¤„ç†ç¨‹åºæ‰§è¡ŒæœŸé—´ï¼Œeventå¯¹è±¡æ‰ä¼šå­˜åœ¨ï¼Œä¸€æ—¦äº‹ä»¶å¤„ç†ç¨‹åºæ‰§è¡Œå®Œæ¯•ï¼Œeventå¯¹è±¡å°±ä¼šé”€æ¯</p>
<h3 id="React"><a href="#React" class="headerlink" title="React"></a>React</h3><pre><code>    class Square extends React.Component {
  render() {
    return (
      &lt;button className=&quot;square&quot; onClick={() =&gt; alert(&apos;click&apos;)}&gt;
        {this.props.value}
      &lt;/button&gt;
    );
  }
}</code></pre><p>Doing onClick={alert(â€˜clickâ€™)} would alert immediately instead of when the button is clicked.</p>
<p>æ„æ€æ˜¯è¯´åšäº‹ä»¶ç»‘å®šçš„æ—¶å€™å¦‚æœç›´æ¥å†™onClick={alert(â€˜clickâ€™)}æ˜¯ä¸å¯¹çš„ä¼šåœ¨ä½ æ²¡æœ‰ç‚¹å‡»ä¹‹å‰ç›´æ¥å°±æ‰§è¡Œäº†ã€‚å› ä¸ºåœ¨{}ä¸­çš„æ˜¯jsæ˜¯ä¼šç«‹å³æ‰§è¡Œçš„ã€‚onClickåªæ˜¯Reactä¸­çš„ä¸€ä¸ªæ ‡è®°ï¼Œæ˜¯Reactè®¤è¯†çš„æ ‡å¿—ï¼ŒReactåœ¨ç¼–è¯‘çš„æ—¶å€™è‚¯å®šä¼šæœé›†è¿™äº›æ ‡è®°æ¥ç¿»è¯‘æˆæµè§ˆå™¨ä¸­çš„clickäº‹ä»¶ã€‚</p>
<p>In JavaScript classes, you need to explicitly call super(); when defining the constructor of a subclass.</p>
<p>åœ¨å®šä¹‰ä¸€ä¸ªå­ç±»çš„constructorçš„æ—¶å€™åŠ¡å¿…è®°å¾—è¦è°ƒç”¨super();</p>
<pre><code>    class Square extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      value: null,
    };
  }

  render() {
    return (
      &lt;button className=&quot;square&quot; onClick={() =&gt; alert(&apos;click&apos;)}&gt;
        {this.props.value}
      &lt;/button&gt;
    );
  }
}</code></pre><p>ç”¨stateæ¥ä»£æ›¿props</p>
<pre><code>        class Square extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      value: null,
    };
  }

  render() {
    return (
      &lt;button className=&quot;square&quot; onClick={() =&gt; this.setState({value: &apos;X&apos;})}&gt;
        {this.state.value}
      &lt;/button&gt;
    );
  }
}</code></pre><p>Whenever this.setState is called, an update to the component is scheduled, causing React to merge in the passed state update and rerender the component along with its descendants.</p>
<p>æ¯å½“this.setStateæ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œreactå°±ä¼šæ ¹æ®æœ€æ–°çš„stateæ¥è¿›è¡Œä¸€æ¬¡æ›´æ–°ã€‚</p>
<p>When you want to aggregate data from multiple children or to have two child components communicate with each other, move the state upwards so that it lives in the parent component. The parent can then pass the state back down to the children via props, so that the child components are always in sync with each other and with the parent.</p>
<p>å½“æƒ³è¦ä¸¤ä¸ªå­—ç»„ä»¶äº¤æµæˆ–è€…çˆ¶äº²ç»„ä»¶åšä¸€ä¸ªæ•°æ®çš„ç»Ÿè®¡çš„æ—¶å€™ï¼Œè¦move the state upwards å°±æ˜¯å°†stateä¼ é€’åˆ°çˆ¶ç»„ä»¶ä¸­å»ã€‚</p>
<p>Now we need to change what happens when a square is clicked. The Board component now stores which squares are filled, which means we need some way for Square to update the state of Board.<br>Since component state is considered private, we canâ€™t update Boardâ€™s state directly from Square.</p>
<p>stateæ˜¯ç»„ä»¶ç§æœ‰çš„ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥åœ¨å¦ä¸€ä¸ªç»„ä»¶ä¸­æ”¹å˜å…¶ä»–ç»„ä»¶çš„state</p>
<p>The usual pattern here is pass down a function from Board to Square that gets called when the square is clicked. </p>
<p>é€šå¸¸çš„å¤„ç†æ–¹å¼æ˜¯çˆ¶ç»„ä»¶pass down ä¸€ä¸ªæ–¹æ³•ç»™å­ç»„ä»¶æ¥è°ƒç”¨</p>
<p>There are generally two ways for changing data. The first method is to mutate the data by directly changing the values of a variable. The second method is to replace the data with a new copy of the object that also includes desired changes.</p>
<p>æœ‰ä¸¤ç§æ”¹å˜æ•°æ®çš„æ–¹å¼ï¼šç¬¬ä¸€ç§æ˜¯ç›´æ¥ä¿®æ”¹åŸå§‹æ•°æ®ï¼Œç¬¬äºŒç§æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å¤‡ä»½ã€‚</p>
<p>ç¬¬ä¸€ç§ï¼šç›´æ¥ä¿®æ”¹</p>
<pre><code>var player = {score: 1,name:&apos;xiaoyu&apos;};
player.score = 2;
// ç°åœ¨player = {score: 2,name: &apos;xiaoyu&apos;};</code></pre><p>ç¬¬äºŒç§ï¼šåˆ›å»ºå¤‡ä»½</p>
<pre><code>var player = {score: 1, name: &apos;xiaoyu&apos;};
var newPlayer = Object.assign({},player,{score:2});
ç°åœ¨æ²¡æœ‰æ”¹å˜åŸæ¥çš„playerå¯¹è±¡è€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡</code></pre><p>è™½ç„¶ä¸¤ç§æ–¹å¼çš„æœ€ç»ˆç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ç¬¬äºŒç§æ–¹å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬æé«˜ç»„ä»¶çš„æ€§èƒ½ã€‚</p>
<h3 id="å¥½å¤„1-Easier-Undo-Redo-and-Time-Travel"><a href="#å¥½å¤„1-Easier-Undo-Redo-and-Time-Travel" class="headerlink" title="å¥½å¤„1: Easier Undo/Redo and Time Travel"></a>å¥½å¤„1: Easier Undo/Redo and Time Travel</h3><p>Immutability also makes some complex features much easier to implement. For example, further in this tutorial we will implement time travel between different stages of the game. Avoiding data mutations lets us keep a reference to older versions of the data, and switch between them if we need to.</p>
<p>æ›´åŠ æ–¹ä¾¿çš„å›é€€ã€‚æˆ‘ä»¬å¯ä»¥ä¿æŒå¯¹æ—§ç‰ˆæœ¬æ•°æ®çš„å¼•ç”¨ï¼Œä»è€Œæ›´åŠ ä»å®¹çš„åœ¨æ–°æ—§çŠ¶æ€ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚</p>
<h3 id="å¥½å¤„2ï¼š-Tracking-Changes-è·Ÿè¸ªå˜åŒ–"><a href="#å¥½å¤„2ï¼š-Tracking-Changes-è·Ÿè¸ªå˜åŒ–" class="headerlink" title="å¥½å¤„2ï¼š Tracking Changes è·Ÿè¸ªå˜åŒ–"></a>å¥½å¤„2ï¼š Tracking Changes è·Ÿè¸ªå˜åŒ–</h3><p>Determining if a mutated object has changed is complex because changes are made directly to the object. This then requires comparing the current object to a previous copy, traversing the entire object tree, and comparing each variable and value. This process can become increasingly complex.</p>
<p>Determining how an immutable object has changed is considerably easier. If the object being referenced is different from before, then the object has changed. Thatâ€™s it.</p>
<p>å¦‚æœé‡‡ç”¨ç›´æ¥åœ¨åŸæ¥çš„æ•°æ®å¯¹è±¡ä¸­ä¿®æ”¹çš„æ–¹å¼ï¼Œé‚£ä¹ˆå½“å‘ç”Ÿä¸€ä¸ªæ”¹å˜çš„æ—¶å€™è¦å‰åå¯¹æ•°æ®å¯¹è±¡è¿›è¡Œå¯¹æ¯”æ‰¾åˆ°åšäº†æ”¹å˜çš„åœ°æ–¹ï¼Œè€Œé‡‡ç”¨æ–¹å¼äºŒåˆ™å®¹æ˜“åˆ¤æ–­å¤šäº† ï¼Œåªè¦å¯¹è±¡çš„å¼•ç”¨æ”¹å˜äº†ï¼Œé‚£æ•°æ®å¯¹è±¡å°±æ”¹å˜äº†ã€‚å¦‚æ­¤ç®€å•ã€‚</p>
<h3 id="å¥½å¤„3-Determining-When-to-Re-render-in-React"><a href="#å¥½å¤„3-Determining-When-to-Re-render-in-React" class="headerlink" title="å¥½å¤„3: Determining When to Re-render in React"></a>å¥½å¤„3: Determining When to Re-render in React</h3><p>The biggest benefit of immutability in React comes when you build simple pure components. Since immutable data can more easily determine if changes have been made, it also helps to determine when a component requires being re-rendered.<br>To learn more about shouldComponentUpdate() and how you can build pure components take a look at Optimizing Performance.</p>
<p>æœ€å¤§çš„å¥½å¤„å°±æ˜¯ï¼Œå½“ä½ å†™çš„ç»„ä»¶æ˜¯ç¬¦åˆâ€˜å•ä¸€æŒ‡è´£â€™çš„ç»„ä»¶çš„æ—¶å€™ï¼Œä¸æ”¹å˜åŸå§‹æ•°æ®çš„æ–¹å¼å¯ä»¥æ›´åŠ æ–¹ä¾¿çš„åˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†æ•°æ®çš„å˜åŒ–ç»§è€Œå®ƒä¹Ÿæ›´åŠ æ–¹ä¾¿çš„æ¥åˆ¤æ–­æ˜¯å¦è¦è¿›è¡Œä»æ–°æ¸²æŸ“ã€‚</p>
<h2 id="Functional-Components"><a href="#Functional-Components" class="headerlink" title="Functional Components"></a>Functional Components</h2><p>åŠŸèƒ½ç»„ä»¶<br>Weâ€™ve removed the constructor, and in fact, React supports a simpler syntax called functional components for component types like Square that only consist of a render method. Rather than define a class extending React.Component, simply write a function that takes props and returns what should be rendered.</p>
<p>Reactæ”¯æŒä¸€ç§æˆ‘ä»¬ç§°ä¸ºâ€˜åŠŸèƒ½ç»„ä»¶â€˜çš„ç»„ä»¶ã€‚å®ƒåªåŒ…å«ä¸€ä¸ªrenderæ¸²æŸ“å‡½æ•°ã€‚å¹¶ä¸”å†™çš„æ—¶å€™ä¸ç”¨å¾ˆéº»çƒ¦çš„å®šä¹‰ä¸€ä¸ªç±»æ¥ç»§æ‰¿React.Componentè€Œæ˜¯ç®€å•çš„å†™ä¸€ä¸ªå¸¦å‚æ•°çš„function ç„¶åè¿”å›éœ€è¦è¢«æ¸²æŸ“ï¼ˆrenderï¼‰çš„ä¸œè¥¿å°±å¯ä»¥äº†ã€‚<br>æ”¹å†™ä¹‹å‰çš„ç»„ä»¶</p>
<pre><code>function Square(props) {
    return (
        &lt;button className=&quot;square&quot; onClick={props.onClick}&gt;{props.value}&lt;/button&gt;
    )
}</code></pre><p>Youâ€™ll need to change this.props to props both times it appears. Many components in your apps will be able to be written as functional components: these components tend to be easier to write and React will optimize them more in the future.</p>
<p>å¤§å¤šæ•°çš„ç»„ä»¶éƒ½å¯ä»¥å†™æˆåŠŸèƒ½ç»„ä»¶ï¼Œè¿™ç§ç»„ä»¶å†™èµ·æ¥æ›´åŠ çš„ç®€å•å¹¶ä¸”reactä»¥åä¼šå¯¹åŠŸèƒ½ç»„ä»¶çš„ä¼˜åŒ–è¶Šæ¥è¶Šå¥½ã€‚</p>
<p>Note that onClick={props.onClick()} would not work because it would call props.onClick immediately instead of passing it down.</p>
<p>ä¸€å®šè¦æ³¨æ„è¿™é‡Œçš„æ–¹æ³•è°ƒç”¨çš„å†™æ³•ï¼Œ{}ä¸­çš„jsä»£ç ä¼šç«‹å³æ‰§è¡Œï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯å°†ä¸€ä¸ªå‡½æ•°ä¼ é€’ä¸‹å»ä¸æ˜¯ç›´æ¥æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚</p>
<p>Weâ€™ll want the top-level Game component to be responsible for displaying the list of moves. So just as we pulled the state up before from Square into Board, letâ€™s now pull it up again from Board into Game â€“ so that we have all the information we need at the top level.</p>
<p>ç”¨gameç»„ä»¶æ¥åšä¸€ä¸ªå†å²çš„æ­¥éª¤çš„è®°å½•ï¼Œå°±åƒæˆ‘ä»¬å°†stateä»squareæåˆ°boardä¸­å»ä¸€æ ·æˆ‘ä»¬å†æ¬¡å°†stateä»boardä¸­æåˆ°gameä¸­å»ã€‚<br>First, set up the initial state for Game by adding a constructor to it:<br>é‚£ä¹ˆé¦–å…ˆå°±è¦åˆå§‹åŒ–gameåˆ°stateçŠ¶æ€ï¼ˆæ—¢ç„¶è®¾è®¡åˆ°è¦ä¿å­˜çŠ¶æ€é‚£å°±è¦å†™constructorå‡½æ•°äº†ï¼Œè¿™ä¸ªå¯ä»¥åšä¸ºä¸€ä¸ªåˆ¤æ–­æ ‡å‡†è¯¶ï¼‰</p>
<p>Then change Board so that it takes squares via props and has its own onClick prop specified by Game, like the transformation we made for Square earlier.</p>
<p>ç„¶åå°±è¦æ”¹å†™boardäº†ï¼Œè®©å®ƒä»gameä¼ é€’å‡ºæ¥çš„åˆ°propsä¸­è·å¾—squareså’ŒonClickäº‹ä»¶å±æ€§ã€‚<br>æ¥ä¸‹æ¥è¦åšçš„ï¼š</p>
<ul>
<li>Delete the constructor in Board.</li>
<li>Replace this.state.squares[i] with this.props.squares[i] in Boardâ€™s renderSquare.</li>
<li>Replace this.handleClick(i) with this.props.onClick(i) in Boardâ€™s renderSquare.</li>
</ul>
<p>åˆ é™¤boardä¸­çš„æ„é€ å‡½æ•°<br>æ›¿æ¢ this.state.squares[i] ä¸º this.props.squares[i]<br>æ›¿æ¢this.handleClick(i) ä¸º this.props.onClick(i)</p>
<h3 id="the-keys"><a href="#the-keys" class="headerlink" title="the keys"></a>the keys</h3><p>When a key is added to the set, a component is created; when a key is removed, a component is destroyed. Keys tell React about the identity of each component, so that it can maintain the state across rerenders. </p>
<p>Itâ€™s strongly recommended that you assign proper keys whenever you build dynamic lists.</p>
<p>åœ¨ç”ŸæˆåŠ¨æ€åˆ—è¡¨æ—¶å€™ä¸€å®šè¦ç¡®ä¿åˆ†é…æ­£ç¡®çš„keys<br>Component keys donâ€™t need to be globally unique, only unique relative to the immediate siblings.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2021/01/10/EventLoop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/10/EventLoop/" itemprop="url">EventLoop</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-01-10T12:46:03+08:00">
                2021-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>jsæ˜¯å•çº¿ç¨‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œå•çº¿ç¨‹çš„è¿è¡Œç¯å¢ƒï¼Œå®ƒæœ‰ä¸”åªæœ‰ä¸€ä¸ªè°ƒç”¨æ ˆï¼Œå®ƒæ¯æ¬¡åªèƒ½å¤Ÿåšä¸€ä»¶äº‹ï¼Œè¿™æ˜¯å•çº¿ç¨‹çš„æ„æ€ï¼Œç¨‹åºæ¯æ¬¡åªå¯ä»¥è¿è¡Œä¸€æ®µä»£ç </p>
<p>è°ƒç”¨æ ˆæ˜¯ä¸€ä¸ªè®°å½•å½“å‰ç¨‹åºæ‰€åœ¨ä½ç½®çš„æ•°æ®ç»“æ„ï¼Œå¦‚æœå½“å‰è¿›å…¥äº†æŸä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šè¢«æ”¾å…¥æ ˆé‡Œé¢ï¼Œå¦‚æœå½“å‰ç¦»å¼€äº†æŸä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šè¢«å¼¹å‡ºæ ˆå¤–ï¼Œè¿™æ˜¯æ ˆæ‰€åšçš„äº‹ã€‚</p>
<pre><code>function foo() {
    throw new Error(&apos;Oops!&apos;);
}

function bar() {
    foo();
}

function baz() {
    bar();
}

baz();</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2021/01/10/DNS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/10/DNS/" itemprop="url">DNS</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-01-10T12:46:03+08:00">
                2021-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="æµè§ˆå™¨å‘èµ·è¯·æ±‚çš„å‡ ä¸ªé‡è¦æ­¥éª¤"><a href="#æµè§ˆå™¨å‘èµ·è¯·æ±‚çš„å‡ ä¸ªé‡è¦æ­¥éª¤" class="headerlink" title="æµè§ˆå™¨å‘èµ·è¯·æ±‚çš„å‡ ä¸ªé‡è¦æ­¥éª¤"></a>æµè§ˆå™¨å‘èµ·è¯·æ±‚çš„å‡ ä¸ªé‡è¦æ­¥éª¤</h3><ul>
<li>DNSè§£æ</li>
<li>TCPé“¾æ¥</li>
<li>å‘é€httpè¯·æ±‚</li>
<li>æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å›httpæŠ¥æ–‡</li>
<li>æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢</li>
<li>è¿æ¥ç»“æŸ</li>
</ul>
<p>DNSç¼“å­˜ï¼Œå‡å°‘æµè§ˆå™¨è®¿é—®dnsæœåŠ¡å™¨çš„æ—¶é—´</p>
<p>éƒ¨ç½²CDNï¼šCDNçš„åŸŸåä¸è¦å’Œä¸»ç«™çš„åŸŸåä¸€æ ·ï¼Œè¿™æ ·å°±ä¼šé˜²æ­¢è®¿é—®CDNæ—¶è¿˜æºå¸¦ç€ä¸»ç«™cookiesçš„é—®é¢˜ã€‚</p>
<p>æµè§ˆå™¨ç«¯ç¼“å­˜</p>
<p>æœåŠ¡ç«¯æ¸²æŸ“ssr</p>
<p>HTTPæ˜¯ä¸ä¿å­˜çŠ¶æ€çš„åè®®ï¼Œå³æ— çŠ¶æ€åè®®ï¼Œåè®®æœ¬èº«å¯¹äºè¯·æ±‚æˆ–å“åº”ä¹‹é—´çš„é€šä¿¡çŠ¶æ€ä¸è¿›è¡Œä¿å­˜ï¼Œå› æ­¤è¿æ¥åŒæ–¹ä¸èƒ½çŸ¥æ™“å¯¹æ–¹å½“å‰çš„èº«ä»½å’ŒçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯CookieæŠ€æœ¯äº§ç”Ÿçš„é‡è¦åŸå› ä¹‹ä¸€ï¼šå®¢æˆ·ç«¯çš„çŠ¶æ€ç®¡ç†ã€‚æµè§ˆå™¨ä¼šæ ¹æ®ä»æœåŠ¡å™¨ç«¯å‘é€çš„å“åº”æŠ¥æ–‡å†… Set-Cookie é¦–éƒ¨å­—æ®µä¿¡æ¯è‡ªåŠ¨ä¿æŒ Cookieã€‚è€Œæ¯æ¬¡å®¢æˆ·ç«¯å‘é€ HTTP è¯·æ±‚ï¼Œéƒ½ä¼šåœ¨è¯·æ±‚æŠ¥æ–‡ä¸­æºå¸¦ Cookieï¼Œä½œä¸ºæœåŠ¡ç«¯è¯†åˆ«å®¢æˆ·ç«¯èº«ä»½çŠ¶æ€çš„æ ‡è¯†ã€‚</p>
<h3 id="TCP-IPå››å±‚ç½‘ç»œæ¨¡å‹"><a href="#TCP-IPå››å±‚ç½‘ç»œæ¨¡å‹" class="headerlink" title="TCP/IPå››å±‚ç½‘ç»œæ¨¡å‹"></a>TCP/IPå››å±‚ç½‘ç»œæ¨¡å‹</h3><p>åº”ç”¨å±‚<br>ä¼ è¾“å±‚<br>ç½‘é™…å±‚<br>é“¾è·¯å±‚</p>
<p>æŒä¹…è¿æ¥é‡‡ç”¨é˜Ÿå¤´é˜»å¡æ¨¡å¼ï¼Œä¸‹æ¬¡è¯·æ±‚å¿…é¡»ç­‰åˆ°ä¸Šæ¬¡å“åº”è¿”å›åæ‰èƒ½å‘èµ·ï¼Œå¦‚æœä¸Šæ¬¡çš„è¯·æ±‚è¿˜æ²¡æœ‰è¿”å›å“åº”å†…å®¹ï¼Œä¸‹æ¬¡è¯·æ±‚å°±å¿…é¡»åªèƒ½ç­‰ç€ï¼Œå°±æ˜¯å¸¸è¯´çš„é˜Ÿå¤´é˜»å¡ã€‚ï¼ˆè§£å†³æ–¹æ¡ˆï¼Œç®¡é“åŒ–ï¼‰</p>
<p>éœ€è¦æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨åå‘ä»£ç†ï¼Œåˆ™åœ¨axiosé…ç½®çš„æ—¶å€™ï¼Œè¯·æ±‚baseURLå¿…é¡»è®¾ç½®ä¸ºå­—ç¬¦ä¸²â€˜/â€™ï¼Œå¦åˆ™proxyä¼šåŒ¹é…ä¸åˆ°â€™/apiâ€™å¯¼è‡´ä»£ç†å¤±è´¥ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2021/01/10/Canvas/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/01/10/Canvas/" itemprop="url">Canvas</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-01-10T12:46:03+08:00">
                2021-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h2><h3 id="æ …æ ¼"><a href="#æ …æ ¼" class="headerlink" title="æ …æ ¼"></a>æ …æ ¼</h3><p>åœ¨å¼€å§‹ç”»å›¾ä¹‹å‰ï¼Œéœ€è¦äº†è§£ä¸‹ç”»å¸ƒæ …æ ¼å’Œåæ ‡ç©ºé—´ã€‚canvaså…ƒç´ é»˜è®¤è¢«ç½‘æ ¼æ‰€è¦†ç›–ã€‚é€šå¸¸æ¥è¯´ç½‘æ ¼ä¸­çš„ä¸€ä¸ªå•å…ƒç›¸å½“äºcanvaså…ƒç´ ä¸­çš„ä¸€åƒç´ ã€‚æ …æ ¼çš„èµ·ç‚¹ä¸ºå·¦ä¸Šè§’ï¼ˆåæ ‡ä¸ºï¼ˆ0,0ï¼‰ï¼‰ã€‚æ‰€æœ‰å…ƒç´ çš„ä½ç½®éƒ½ç›¸å¯¹äºåŸç‚¹å®šä½ã€‚</p>
<h3 id="ç»˜åˆ¶çŸ©å½¢"><a href="#ç»˜åˆ¶çŸ©å½¢" class="headerlink" title="ç»˜åˆ¶çŸ©å½¢"></a>ç»˜åˆ¶çŸ©å½¢</h3><p>ä¸åŒäºSVGï¼ŒHTMLä¸­çš„å…ƒç´ canvasåªæ”¯æŒä¸€ç§åŸç”Ÿçš„å›¾å½¢ç»˜åˆ¶ï¼šçŸ©å½¢ã€‚<br>ä¸‰ç§æ–¹å¼ç»˜åˆ¶çŸ©å½¢ï¼š        </p>
<pre><code>fillRect(x, y, width, height)  //ç»˜åˆ¶ä¸€ä¸ªå¡«å……çš„çŸ©å½¢
strokeRect(x, y, width, height)  //ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢çš„è¾¹æ¡†
clearRect(x, y, width, height)  //æ¸…é™¤æŒ‡å®šçŸ©å½¢åŒºåŸŸï¼Œè®©æ¸…é™¤éƒ¨åˆ†å®Œå…¨é€æ˜ã€‚</code></pre><p>ä¸Šè¿°æ–¹æ³•ä¸­ï¼Œx yåˆ†åˆ«æŒ‡å®šäº†åœ¨canvasç”»å¸ƒä¸Šæ‰€ç»˜åˆ¶çŸ©å½¢çš„å·¦ä¸Šè§’çš„åæ ‡ã€‚<br>widthå’Œheightè®¾ç½®äº†çŸ©å½¢çš„å°ºå¯¸ã€‚<br>ä»¥ä¸Šçš„ä¸‰ä¸ªå‡½æ•°ç»˜åˆ¶ä¹‹åä¼šé©¬ä¸Šæ˜¾ç°åœ¨canvasä¸Šï¼Œå³æ—¶ç”Ÿæ•ˆã€‚    </p>
<h3 id="ç»˜åˆ¶è·¯å¾„"><a href="#ç»˜åˆ¶è·¯å¾„" class="headerlink" title="ç»˜åˆ¶è·¯å¾„"></a>ç»˜åˆ¶è·¯å¾„</h3><ul>
<li>é¦–å…ˆéœ€è¦åˆ›å»ºè·¯å¾„èµ·å§‹ç‚¹</li>
<li>ç„¶åä½¿ç”¨ç”»å›¾å‘½ä»¤ç”»å‡ºè·¯å¾„</li>
<li>é—­åˆè·¯å¾„</li>
<li>ä¸€æ—¦è·¯å¾„ç”Ÿæˆå°±å¯ä»¥é€šè¿‡æè¾¹æˆ–è€…å¡«å……è·¯å¾„åŒºåŸŸæ¥æ¸²æŸ“å›¾å½¢</li>
</ul>
<h2 id="Path2Då¯¹è±¡"><a href="#Path2Då¯¹è±¡" class="headerlink" title="Path2Då¯¹è±¡"></a>Path2Då¯¹è±¡</h2><p>ä¸ºäº†ç®€åŒ–ä»£ç å’Œæé«˜æ€§èƒ½ï¼Œpath2çš„å¯¹è±¡å·²ç»å¯ä»¥åœ¨è¾ƒæ–°çš„æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œç”¨æ¥ç¼“å­˜æˆ–è€…è®°å½•ç»˜åˆ¶å‘½ä»¤ï¼Œè¿™æ ·å°±å¯ä»¥å¿«é€Ÿçš„å›é¡¾è·¯å¾„ã€‚</p>
<pre><code>Path2D()</code></pre><p>å‡½æ•°ï¼Œå°†ä¼šè¿”å›ä¸€ä¸ªæ–°åˆå§‹åŒ–çš„Path2Då¯¹è±¡ï¼ˆå¯å°†ä¸€ä¸ªè·¯å¾„ä½œä¸ºå˜é‡â€“åˆ›å»ºä¸€ä¸ªä»–çš„å‰¯æœ¬ï¼Œæˆ–è€…å°†ä¸€ä¸ªåŒ…å«svg pathæ•°æ®çš„å­—ç¬¦ä¸²ä½œä¸ºå˜é‡ï¼‰</p>
<pre><code>new Path2D();   //ç©ºçš„Pathå¯¹è±¡
new Path2D(path) // å…‹éš†Pathå¯¹è±¡
new Path2D(d);     //ä»svgå»ºç«‹Pathå¯¹è±¡</code></pre><p>æ‰€æœ‰çš„è·¯å¾„æ–¹æ³•æ¯”å¦‚ moveTo, rect, arc æˆ– quadraticCurveToç­‰ï¼Œå¦‚æˆ‘ä»¬å‰é¢è§è¿‡çš„ï¼Œéƒ½å¯ä»¥åœ¨Path2Dä¸­ä½¿ç”¨ã€‚</p>
<p>Path2D API æ·»åŠ äº† addPathä½œä¸ºå°†pathç»“åˆèµ·æ¥çš„æ–¹æ³•ã€‚å½“ä½ æƒ³è¦ä»å‡ ä¸ªå…ƒç´ ä¸­æ¥åˆ›å»ºå¯¹è±¡æ—¶ï¼Œè¿™å°†ä¼šå¾ˆå®ç”¨ã€‚æ¯”å¦‚</p>
<pre><code>Path2D.addPath(path [, transform])</code></pre><p>æ·»åŠ ä¸€æ¡è·¯å¾„åˆ°å½“å‰è·¯å¾„ï¼ˆå¯èƒ½æ·»åŠ äº†ä¸€ä¸ªå˜æ¢çŸ©é˜µï¼‰</p>
<h2 id="ä½¿ç”¨svg-paths"><a href="#ä½¿ç”¨svg-paths" class="headerlink" title="ä½¿ç”¨svg paths"></a>ä½¿ç”¨svg paths</h2><p>æ–°çš„path2d apiæœ‰å¦ä¸€ä¸ªå¼ºå¤§çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯ä½¿ç”¨svg path dataæ¥åˆå§‹åŒ–canvasä¸Šçš„è·¯å¾„ã€‚è¿™å°†ä½¿ä½ è·å–è·¯å¾„æ—¶å¯ä»¥ä»¥SVGæˆ–canvasçš„æ–¹å¼æ¥é‡ç”¨å®ƒä»¬ã€‚</p>
<pre><code>var p = new Path2D(&quot;M10 10 h 80 v 80 h -80 z&quot;)</code></pre><p>ä¸Šé¢ä¸€æ®µsvgè·¯å¾„çš„æ„æ€æ˜¯ï¼š ç°å°†è·¯å¾„ç§»åŠ¨åˆ°ç‚¹(M10 10),ç„¶åå†æ°´å¹³ç§»åŠ¨80ä¸ªå•ä½(h 80),ç„¶åä¸‹ç§»80ä¸ªå•ä½(v 80),æ¥ç€å·¦ç§»80ä¸ªå•ä½(h -80),å†å›åˆ°èµ·ç‚¹å¤„(z)</p>
<h2 id="è‰²å½©Colors"><a href="#è‰²å½©Colors" class="headerlink" title="è‰²å½©Colors"></a>è‰²å½©Colors</h2><h3 id="fillStyle-color-è®¾ç½®å›¾å½¢çš„å¡«å……é¢œè‰²"><a href="#fillStyle-color-è®¾ç½®å›¾å½¢çš„å¡«å……é¢œè‰²" class="headerlink" title="fillStyle = color     è®¾ç½®å›¾å½¢çš„å¡«å……é¢œè‰²"></a>fillStyle = color     è®¾ç½®å›¾å½¢çš„å¡«å……é¢œè‰²</h3><h3 id="strokeStyle-color-è®¾ç½®å›¾å½¢è½®å»“çš„é¢œè‰²"><a href="#strokeStyle-color-è®¾ç½®å›¾å½¢è½®å»“çš„é¢œè‰²" class="headerlink" title="strokeStyle = color  è®¾ç½®å›¾å½¢è½®å»“çš„é¢œè‰²"></a>strokeStyle = color  è®¾ç½®å›¾å½¢è½®å»“çš„é¢œè‰²</h3><p>color å¯ä»¥æ˜¯è¡¨ç¤º CSS é¢œè‰²å€¼çš„å­—ç¬¦ä¸²ï¼Œæ¸å˜å¯¹è±¡æˆ–è€…å›¾æ¡ˆå¯¹è±¡ã€‚æˆ‘ä»¬è¿Ÿäº›å†å›å¤´æ¢è®¨æ¸å˜å’Œå›¾æ¡ˆå¯¹è±¡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œçº¿æ¡å’Œå¡«å……é¢œè‰²éƒ½æ˜¯é»‘è‰²ï¼ˆCSS é¢œè‰²å€¼ #000000ï¼‰ã€‚</p>
<p>æ³¨æ„ï¼š  ä¸€æ—¦æ‚¨è®¾ç½®äº† strokeStyle æˆ–è€… fillStyle çš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°å€¼å°±ä¼šæˆä¸ºæ–°ç»˜åˆ¶çš„å›¾å½¢çš„é»˜è®¤å€¼ã€‚å¦‚æœä½ è¦ç»™æ¯ä¸ªå›¾å½¢ä¸Šä¸åŒçš„é¢œè‰²ï¼Œä½ éœ€è¦é‡æ–°è®¾ç½® fillStyle æˆ– strokeStyle çš„å€¼ã€‚</p>
<p>æ‚¨è¾“å…¥çš„åº”è¯¥æ˜¯ç¬¦åˆ CSS3 é¢œè‰²å€¼æ ‡å‡† çš„æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚ä¸‹é¢çš„ä¾‹å­éƒ½è¡¨ç¤ºåŒä¸€ç§é¢œè‰²ã€‚</p>
<pre><code>// è¿™äº› fillStyle çš„å€¼å‡ä¸º &apos;æ©™è‰²&apos;
ctx.fillStyle = &quot;orange&quot;;
ctx.fillStyle = &quot;#FFA500&quot;;
ctx.fillStyle = &quot;rgb(255,165,0)&quot;;
ctx.fillStyle = &quot;rgba(255,165,0,1)&quot;;</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">ç‹æ™“å®‡</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">64</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ç‹æ™“å®‡</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
