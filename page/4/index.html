<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="ç§‹å¤œå·²å‡‰ 02">
<meta property="og:url" content="https://coffeeandtea.github.io/page/4/index.html">
<meta property="og:site_name" content="ç§‹å¤œå·²å‡‰ 02">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ç§‹å¤œå·²å‡‰ 02">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://coffeeandtea.github.io/page/4/">





  <title>ç§‹å¤œå·²å‡‰ 02</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ç§‹å¤œå·²å‡‰ 02</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ç¡®å®šä¸æ¥ç‚¹éŸ³ä¹å—ï¼Ÿå» <a href="http://music.xiaoyu.work" target="_blank">http://music.xiaoyu.work</a> éƒ½æ˜¯ä½ çˆ±å¬çš„ğŸµï½</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2018/03/29/PropTypes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/29/PropTypes/" itemprop="url">PropTypes</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-03-29T00:26:33+08:00">
                2018-03-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="PropTypes"><a href="#PropTypes" class="headerlink" title="PropTypes"></a>PropTypes</h3><p>åœ¨React15.5ç‰ˆæœ¬ä¹‹åï¼ŒReactçš„æ ¡éªŒå·¥ä½œè½¬ç§»åˆ°äº†ä¸€ä¸ªå•ç‹¬çš„åº“ã€‚<br>ä½¿ç”¨çš„æ—¶å€™å®‰è£…prop-typesåº“ï¼Œå®ƒä¼šå¯¼å‡ºä¸€ç³»åˆ—çš„éªŒè¯å™¨ï¼Œç”¨äºç¡®ä¿æ”¶åˆ°çš„æ•°æ®æ˜¯æœ‰æ•ˆçš„ã€‚</p>
<p>æœ‰å¦‚ä¸‹ä¸åŒçš„éªŒè¯å™¨ï¼š</p>
<pre><code>import PropTypes from &apos;prop-types&apos;;

MyComponents.propTypes = {
// ä½ å¯ä»¥æŒ‡å®šæŸä¸€ä¸ªpropæ˜¯ä¸€ä¸ªç‰¹å®šçš„jsç±»å‹ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿™äº›éƒ½æ˜¯å¯é€‰çš„
  optionalArray: PropTypes.array,
  optionalBool: PropTypes.bool,
  optionalFunc: PropTypes.func,
  optionalNumber: PropTypes.number,
  optionalObject: PropTypes.object,
  optionalString: PropTypes.string,
  optionalSymbol: PropTypes.symbol,

  optionalNode: PropTypes.node, // è¯¥ç±»å‹çš„propä»£è¡¨çš„æ˜¯ä¸€ä¸ªèŠ‚ç‚¹
  optionalElement: PropTypes.element,  // ä»£è¡¨ä¸€ä¸ªReact element 
  optionalMessage: PropTypes.instanceOf(Message), // å£°æ˜è¿™æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹

  optionalEnum: PropTypes.oneOf([&apos;News&apos;, &apos;Photos&apos;]), // ä¿è¯å€¼åœ¨æŸä¸€ä¸ªç¡®å®šçš„èŒƒå›´å†…

optionalUnion: PropTypes.oneOfType([
PropTypes.string,
PropTypes.number,
PropTypes.instanceOf(Message)
  ]),                     // ä¿è¯æ˜¯å…¶ä¸­çš„ä¸€ç§ç±»å‹çš„ä¸€ä¸ªå¯¹è±¡
  optionalArrayOf: PropTypes.arrayOf(PropTypes.number),  // æŸç§ç‰¹å®šç±»å‹çš„æ•°ç»„
      optionalObjectOf: PropTypes.objectOf(PropTypes.number),// å…·æœ‰æŸç§ç‰¹å®šç±»å‹å±æ€§çš„å¯¹è±¡
      optionalObjectWithShape: PropTypes.shape({
color: PropTypes.string,
fontSize: PropTypes.number
  }),      // ç›´æ¥æŒ‡å®šé•¿æˆä»€ä¹ˆæ ·å­çš„å¯¹è±¡
 requiredFunc: PropTypes.func.isRequired,    // å¯ä»¥åœ¨åé¢è¿½åŠ isRequired æ¥ç¡®ä¿æä¾›æŒ‡å®šç±»å‹çš„propï¼ˆå¦‚æœæ²¡æœ‰æŒ‡å®šå°±ä¼šå‘å‡ºè­¦å‘Šï¼‰
 requiredAny: PropTypes.any.isRequired,    // ä»£è¡¨ä»»æ„ç±»å‹çš„æ•°æ®ï¼ˆä½†æ˜¯å¿…é¡»è¦æœ‰ï¼‰

 // ä¸‹é¢æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰éªŒè¯å™¨
 customProp: function(props, propName, componentName) {
if (!/matchme/.test(props[propName])) {
  return new Error(
    &apos;Invalid prop `&apos; + propName + &apos;` supplied to&apos; +
    &apos; `&apos; + componentName + &apos;`. Validation failed.&apos;
  );
}
  },
      customArrayProp: PropTypes.arrayOf(function(propValue, key, componentName, location, propFullName) {
    if (!/matchme/.test(propValue[key])) {
      return new Error(
        &apos;Invalid prop `&apos; + propFullName + &apos;` supplied to&apos; +
        &apos; `&apos; + componentName + &apos;`. Validation failed.&apos;
      );
    }
  })
};
}</code></pre><h3 id="å¯ä»¥æŒ‡å®šé»˜è®¤çš„å±æ€§"><a href="#å¯ä»¥æŒ‡å®šé»˜è®¤çš„å±æ€§" class="headerlink" title="å¯ä»¥æŒ‡å®šé»˜è®¤çš„å±æ€§"></a>å¯ä»¥æŒ‡å®šé»˜è®¤çš„å±æ€§</h3><pre><code>class Greeting extends React.Component {
  render() {
    return (
      &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;
    );
  }
}

    // Specifies the default values for props:
Greeting.defaultProps = {
  name: &apos;Stranger&apos;
};

// Renders &quot;Hello, Stranger&quot;:
ReactDOM.render(
  &lt;Greeting /&gt;,
  document.getElementById(&apos;example&apos;)
);


é»˜è®¤å±æ€§å¯ä»¥ä¿è¯å½“ç»„ä»¶ä¸èƒ½ä»çˆ¶ç»„ä»¶è·å–å±æ€§çš„æ—¶å€™ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªé»˜è®¤çš„å±æ€§ï¼Œç„¶åæˆ‘ä»¬é…ç½®çš„å±æ€§éªŒè¯å™¨ç…§æ ·ä¼šå¯¹é»˜è®¤å±æ€§åšæ£€æŸ¥ã€‚</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2018/03/29/www/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/29/www/" itemprop="url">www</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-03-29T00:25:56+08:00">
                2018-03-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="www"><a href="#www" class="headerlink" title="www"></a>www</h3><p>wwwæ˜¯Internetçš„å¤šåª’ä½“ä¿¡æ¯æŸ¥è¯¢å·¥å…·ã€‚<br>Nginxæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„httpå’Œåå‘ä»£ç†æœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªimp/pop3/smtpä»£ç†æœåŠ¡å™¨ã€‚</p>
<p>ç”±å†…æ ¸å’Œæ¨¡å—ç»„æˆï¼Œå…¶ä¸­å†…æ ¸çš„è®¾è®¡éå¸¸çš„ç®€å•å’Œå¾®å°ï¼Œä»…ä»…é€šè¿‡é…ç½®æ–‡ä»¶å°†å®¢æˆ·ç«¯è¯·æ±‚æ˜ å°„åˆ°ä¸€ä¸ªlocation blockè€Œåœ¨è¿™ä¸ªlocationä¸­æ‰€é…ç½®çš„ã€‚</p>
<p>Nginxåç«¯åå‘ä»£ç†èƒ½åŠ›å¼ºã€‚å ç”¨å†…å­˜å¾ˆä½ã€‚</p>
<p>åç«¯æœ‰å¥åº·æ£€æŸ¥åŠŸèƒ½ã€‚<br>æ”¯æŒphpcgi  fastcgi</p>
<p>å®˜æ–¹æµ‹è¯•å¹¶å‘èƒ½åŠ›æ¯ç§’5ä¸‡ã€‚</p>
<p>ä»£ç ç®€æ´å®¹æ˜“ä¸Šæ‰‹</p>
<h4 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h4><ul>
<li>æ ¸å¿ƒæ¨¡å—ï¼š httpæ¨¡å— Eventæ¨¡å— mailæ¨¡å—</li>
<li>åŸºç¡€æ¨¡å—: http Access æ¨¡å—  http fastCGI æ¨¡å—  http Proxyæ¨¡å— http Rewriteæ¨¡å—</li>
<li>ç¬¬ä¸‰æ–¹æ¨¡å—ï¼š http Upstream Request Hash æ¨¡å— Noticeæ¨¡å— å’Œhttp Access Keyæ¨¡å—ã€‚</li>
</ul>
<p>Nginxçš„é«˜å¹¶å‘å¾—ç›Šäºå…¶é‡‡ç”¨äº†epollæ¨¡å‹ï¼Œä¸ä¼ ç»Ÿçš„æœåŠ¡å™¨ç¨‹åºæ¶æ„ä¸åŒ epollæ¨¡å‹æ˜¯Linuxå†…æ ¸2.6ä»¥åæ‰å‡ºç°çš„ã€‚</p>
<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>å®‰è£…pcreæ­£åˆ™æ”¯æŒ</p>
<pre><code>yum install pcre-devel -y</code></pre><p>è§£å‹</p>
<pre><code>tar xzf nginx-1.6.2.tar.gz</code></pre><p>ä¿®æ”¹æœåŠ¡å™¨ç‰ˆæœ¬å·</p>
<pre><code>cd nginx-1.6.2;
sed -i -e&apos;s/1.6.2//g&apos; -e&apos;s/nginx\//WS/g&apos; -e&apos;s/&quot;NGINX&quot;/&quot;WS&quot;/g&apos; src/core/nginx.h</code></pre><p>make </p>
<p>make install</p>
<p>ps -ef | grep nginx     //æŸ¥çœ‹æ˜¯å¦å¯åŠ¨</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2018/03/28/VueSSR/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/28/VueSSR/" itemprop="url">VueSSR</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-03-28T23:06:31+08:00">
                2018-03-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="VueSSR"><a href="#VueSSR" class="headerlink" title="VueSSR"></a>VueSSR</h3><pre><code>runlnNewContext false</code></pre><h3 id="ä»€ä¹ˆæ˜¯ssr"><a href="#ä»€ä¹ˆæ˜¯ssr" class="headerlink" title="ä»€ä¹ˆæ˜¯ssr?"></a>ä»€ä¹ˆæ˜¯ssr?</h3><p>é»˜è®¤æƒ…å†µä¸‹vueæ˜¯æ„å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å‡ºVueç»„ä»¶ï¼Œè¿›è¡Œç”ŸæˆDomçš„æ“ä½œï¼Œç„¶è€Œï¼Œä¹Ÿå¯ä»¥å°†åŒä¸€ä¸ªç»„ä»¶æ¸²æŸ“ä¸ºæœåŠ¡å™¨ç«¯çš„htmlå­—ç¬¦ä¸²ï¼Œå°†ä»–ä»¬ç›´æ¥å‘é€åˆ°æµè§ˆå™¨ï¼Œæœ€åå°†é™æ€æ ‡è®°â€˜æ··åˆâ€™ä¸ºå®¢æˆ·ç«¯ä¸Šå®Œå…¨äº¤äº’çš„åº”ç”¨ç¨‹åºã€‚</p>
<p>æœåŠ¡å™¨æ¸²æŸ“çš„ Vue.js åº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥è¢«è®¤ä¸ºæ˜¯â€åŒæ„â€æˆ–â€é€šç”¨â€ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºçš„å¤§éƒ¨åˆ†ä»£ç éƒ½å¯ä»¥åœ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¸Šè¿è¡Œã€‚</p>
<h3 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h3><ul>
<li><p>æ›´å¥½çš„seo Google å’Œ Bingå¯ä»¥å¾ˆå¥½çš„å¯¹åŒæ­¥javascriptåº”ç”¨ç¨‹åºè¿›è¡Œç´¢å¼•ã€‚åŒæ­¥æ˜¯å…³é”®ï¼Œå¦‚æœä½ çš„åº”ç”¨ç¨‹åºåˆå§‹å±•ç¤ºèŠèŠ±å›¾ï¼Œç„¶åé€šè¿‡ajaxè·å–å†…å®¹ï¼ŒæŠ“å–å·¥å…·ä¸ä¼šç­‰åˆ°å¼‚æ­¥å®Œæˆåå†è¡ŒæŠ“å–é¡µé¢å†…å®¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ SEO å¯¹ä½ çš„ç«™ç‚¹è‡³å…³é‡è¦ï¼Œè€Œä½ çš„é¡µé¢åˆæ˜¯å¼‚æ­¥è·å–å†…å®¹ï¼Œåˆ™ä½ å¯èƒ½éœ€è¦æœåŠ¡å™¨ç«¯æ¸²æŸ“(SSR)è§£å†³æ­¤é—®é¢˜ã€‚</p>
</li>
<li><p>æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ã€‚ï¼ˆtime-to-contentï¼‰å¯¹äºé‚£äº›ã€Œå†…å®¹åˆ°è¾¾æ—¶é—´(time-to-content)ä¸è½¬åŒ–ç‡ç›´æ¥ç›¸å…³ã€çš„åº”ç”¨ç¨‹åºè€Œè¨€ï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“(SSR)è‡³å…³é‡è¦ã€‚<br>éœ€è¦æƒè¡¡çš„åœ°æ–¹ï¼š</p>
</li>
<li><p>å¼€å‘æ¡ä»¶æ‰€é™åˆ¶ï¼Œæµè§ˆå™¨ç‰¹å®šçš„ä»£ç ï¼Œåªèƒ½åœ¨ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸä¸­ä½¿ç”¨ï¼›ä¸€äº›å¤–éƒ¨æ‰©å±•åº“(external library)å¯èƒ½éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œæ‰èƒ½åœ¨æœåŠ¡å™¨æ¸²æŸ“åº”ç”¨ç¨‹åºä¸­è¿è¡Œã€‚</p>
</li>
<li><p>æ¶‰åŠæ„å»ºåŠéƒ¨ç½²çš„æ›´å¤šè¦æ±‚ã€‚ä¸å¯ä»¥éƒ¨ç½²åœ¨ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Šçš„å®Œå…¨é™æ€å•é¡µé¢åº”ç”¨ç¨‹åº(SPA)ä¸åŒï¼ŒæœåŠ¡å™¨æ¸²æŸ“åº”ç”¨ç¨‹åºï¼Œéœ€è¦å¤„äº Node.js server è¿è¡Œç¯å¢ƒã€‚</p>
</li>
<li><p>æ›´å¤šçš„æœåŠ¡ç«¯è´Ÿè½½ã€‚åœ¨ Node.js ä¸­æ¸²æŸ“å®Œæ•´çš„åº”ç”¨ç¨‹åºï¼Œæ˜¾ç„¶ä¼šæ¯”ä»…ä»…æä¾›é™æ€æ–‡ä»¶çš„ server æ›´åŠ å¤§é‡å ç”¨ CPU èµ„æº(CPU-intensive - CPU å¯†é›†)ï¼Œå› æ­¤å¦‚æœä½ é¢„æ–™åœ¨é«˜æµé‡ç¯å¢ƒ(high traffic)ä¸‹ä½¿ç”¨ï¼Œè¯·å‡†å¤‡ç›¸åº”çš„æœåŠ¡å™¨è´Ÿè½½ï¼Œå¹¶æ˜æ™ºåœ°é‡‡ç”¨ç¼“å­˜ç­–ç•¥ã€‚</p>
</li>
</ul>
<p> è¿˜æœ‰å¯èƒ½ä¼šç”¨åˆ°é¢„æ¸²æŸ“</p>
<p>æ¨¡ç‰ˆæ’å€¼</p>
<p>åœ¨çº¯å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¸­ï¼Œæ¯ä¸ªç”¨æˆ·ä¼šåœ¨ä»–ä»¬å„è‡ªçš„æµè§ˆå™¨ä¸­ä½¿ç”¨æ–°çš„åº”ç”¨ç¨‹åºå®ä¾‹ï¼Œå¯¹äºæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œæˆ‘ä»¬å¸Œæœ›ä¹Ÿæ˜¯å¦‚æ­¤ï¼šæ¯ä¸ªè¯·æ±‚éƒ½æ˜¯å…¨æ–°çš„ï¼Œç‹¬ç«‹çš„åº”ç”¨ç¨‹åºç¤ºä¾‹ï¼Œä»¥ä¾¿ä¸ä¼šæœ‰äº¤å‰è¯·æ±‚é€ æˆçš„çŠ¶æ€æ±¡æŸ“ã€‚</p>
<p>ç¦ç”¨å“åº”å¼æ•°æ®</p>
<p>ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼š   åªä¼šç”¨åˆ°beforeCreate å’Œ created ä¼šç”¨åˆ°ã€‚</p>
<p>è¿™å°±æ˜¯è¯´ä»»ä½•å…¶ä»–ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¾‹å¦‚ beforeMount æˆ– mountedï¼‰ï¼Œåªä¼šåœ¨å®¢æˆ·ç«¯æ‰§è¡Œã€‚</p>
<p>æ­¤å¤–è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ åº”è¯¥é¿å…åœ¨ beforeCreate å’Œ created ç”Ÿå‘½å‘¨æœŸæ—¶äº§ç”Ÿå…¨å±€å‰¯ä½œç”¨çš„ä»£ç ï¼Œä¾‹å¦‚åœ¨å…¶ä¸­ä½¿ç”¨ setInterval è®¾ç½® timerã€‚åœ¨çº¯å®¢æˆ·ç«¯(client-side only)çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ª timerï¼Œç„¶ååœ¨ beforeDestroy æˆ– destroyed ç”Ÿå‘½å‘¨æœŸæ—¶å°†å…¶é”€æ¯ã€‚ä½†æ˜¯ï¼Œç”±äºåœ¨ SSR æœŸé—´å¹¶ä¸ä¼šè°ƒç”¨é”€æ¯é’©å­å‡½æ•°ï¼Œæ‰€ä»¥ timer å°†æ°¸è¿œä¿ç•™ä¸‹æ¥ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œè¯·å°†å‰¯ä½œç”¨ä»£ç ç§»åŠ¨åˆ° beforeMount æˆ– mounted ç”Ÿå‘½å‘¨æœŸä¸­ã€‚</p>
<p>é€šç”¨ä»£ç ä¸å¯æ¥å—ç‰¹å®šå¹³å°çš„ APIï¼Œå› æ­¤å¦‚æœä½ çš„ä»£ç ä¸­ï¼Œç›´æ¥ä½¿ç”¨äº†åƒ window æˆ– documentï¼Œè¿™ç§ä»…æµè§ˆå™¨å¯ç”¨çš„å…¨å±€å˜é‡ï¼Œåˆ™ä¼šåœ¨ Node.js ä¸­æ‰§è¡Œæ—¶æŠ›å‡ºé”™è¯¯ï¼Œåä¹‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<p>å¯¹äºå…±äº«äºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼Œä½†ç”¨äºä¸åŒå¹³å° API çš„ä»»åŠ¡(task)ï¼Œå»ºè®®å°†å¹³å°ç‰¹å®šå®ç°åŒ…å«åœ¨é€šç”¨ API ä¸­ï¼Œæˆ–è€…ä½¿ç”¨ä¸ºä½ æ‰§è¡Œæ­¤æ“ä½œçš„ libraryã€‚ä¾‹å¦‚ï¼Œaxios æ˜¯ä¸€ä¸ª HTTP å®¢æˆ·ç«¯ï¼Œå¯ä»¥å‘æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½æš´éœ²ç›¸åŒçš„ APIã€‚</p>
<p>å¯¹äºä»…æµè§ˆå™¨å¯ç”¨çš„ APIï¼Œé€šå¸¸æ–¹å¼æ˜¯ï¼Œåœ¨ã€Œçº¯å®¢æˆ·ç«¯(client-only)ã€çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¸­æƒ°æ€§è®¿é—®(lazily access)å®ƒä»¬ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œè€ƒè™‘åˆ°å¦‚æœç¬¬ä¸‰æ–¹ library ä¸æ˜¯ä»¥ä¸Šé¢çš„é€šç”¨ç”¨æ³•ç¼–å†™ï¼Œåˆ™å°†å…¶é›†æˆåˆ°æœåŠ¡å™¨æ¸²æŸ“çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå¯èƒ½ä¼šå¾ˆæ£˜æ‰‹ã€‚ä½ å¯èƒ½è¦é€šè¿‡æ¨¡æ‹Ÿ(mock)ä¸€äº›å…¨å±€å˜é‡æ¥ä½¿å…¶æ­£å¸¸è¿è¡Œï¼Œä½†è¿™åªæ˜¯ hack çš„åšæ³•ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå¹²æ‰°åˆ°å…¶ä»– library çš„ç¯å¢ƒæ£€æµ‹ä»£ç ã€‚</p>
<p>é¿å…çŠ¶æ€å•ä¾‹</p>
<p>éœ€è¦æå‰çŸ¥é“å“ªäº›ç»„ä»¶æœ‰ajaxè¯·æ±‚ï¼Œç­‰æŠŠè¿™äº›è¯·æ±‚éƒ½è¿”å›äº†æ•°æ®ä¹‹åï¼Œæ‰å¼€å§‹ç»„ä»¶çš„æ¸²æŸ“ã€‚</p>
<p>æ˜¯å¦å¿…é¡»ä½¿ç”¨vueXæ˜¯çš„ï¼Œå½“é¢„å…ˆè·å–åˆ°ajaxçš„æ•°æ®åï¼ŒVueç»„ä»¶è¿˜æ²¡å¼€å§‹æ¸²æŸ“ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¾—æŠŠæ•°æ®å…ˆå­˜åœ¨æŸä¸ªåœ°æ–¹ã€‚</p>
<p>å½“Vueç»„ä»¶å¼€å§‹æ¸²æŸ“çš„æ—¶å€™ï¼Œè¿˜å¾—æŠŠæ•°æ®æ‹¿å‡ºæ¥ï¼Œæ­£ç¡®çš„ä¼ é€’åˆ°å„ä¸ªç»„ä»¶ä¸­ã€‚</p>
<p>åœ¨æµè§ˆå™¨æ¸²æŸ“çš„æ—¶å€™ï¼Œéœ€è¦æ­£ç¡®è§£æwindow.INITIAL_STATE,å¹¶ä¼ é€’åˆ°å„ä¸ªç»„ä»¶ä¸­ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬éœ€è¦æœ‰è¿™ä¹ˆä¸€ä¸ªç‹¬ç«‹äºè§†å›¾ä»¥å¤–çš„åœ°æ–¹ï¼Œæ¥å­˜å‚¨ ç®¡ç†å’Œä¼ é€’æ•°æ®ã€‚è¿™å°±æ˜¯VueXå­˜åœ¨çš„ç†ç”±ã€‚</p>
<p>åç«¯å·²ç»æŠŠajaxæ•°æ®è½¬æ¢æˆhtmlæ•°æ®äº†ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦æŠŠajaxæ•°æ®é€šè¿‡window.INITIAL_STATEä¼ é€’åˆ°å‰ç«¯ï¼Ÿå› ä¸ºå‰ç«¯æ¸²æŸ“çš„æ—¶å€™ä»ç„¶éœ€è¦çŸ¥é“è¿™äº›æ•°æ®ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªç»„ä»¶ï¼Œç»™ä»–ç»‘å®šä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»çš„æ—¶å€™ï¼Œæ‰“å°this.msg.ç°åœ¨åç«¯æ˜¯æŠŠç»„ä»¶htmlæ¸²æŸ“å‡ºæ¥äº†ï¼Œä½†æ˜¯äº‹ä»¶çš„ç»‘å®šè‚¯å®šè¿˜æ˜¯å¾—æœ‰æµè§ˆå™¨æ¥å®Œæˆï¼Œå¦‚æœæµè§ˆå™¨æ‹¿ä¸åˆ°è·ŸæœåŠ¡å™¨ç«¯ç›¸åŒçš„æ•°æ®ï¼Œåœ¨è§¦å‘ç‚¹å‡»äº‹ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªmsgå­—æ®µå»å“ªé‡Œæ‰¾å‘¢ï¼Ÿ</p>
<h3 id="åå‘ä»£ç†çš„ä½œç”¨"><a href="#åå‘ä»£ç†çš„ä½œç”¨" class="headerlink" title="åå‘ä»£ç†çš„ä½œç”¨"></a>åå‘ä»£ç†çš„ä½œç”¨</h3><ul>
<li>ä¿æŠ¤ç½‘ç«™çš„å®‰å…¨</li>
<li>é€šè¿‡é…ç½®ç¼“å­˜åŠŸèƒ½åŠ é€Ÿwebè¯·æ±‚</li>
<li>å®ç°è´Ÿè½½å‡è¡¡</li>
</ul>
<p>éé˜»å¡ã€é«˜å¹¶å‘è¿æ¥ï¼šå®˜æ–¹æµ‹è¯•èƒ½å¤Ÿæ”¯æ’‘5ä¸‡å¹¶å‘å¾—ç›ŠäºNginxä½¿ç”¨äº†æœ€æ–°çš„epollæ¨¡å‹ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2018/03/28/åœ¨ä¸€ä¸ªnginxä¸Šé¢é…ç½®å¤šä¸ªè™šæ‹Ÿä¸»æœºçš„æ–¹æ³•ï¼š/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/28/åœ¨ä¸€ä¸ªnginxä¸Šé¢é…ç½®å¤šä¸ªè™šæ‹Ÿä¸»æœºçš„æ–¹æ³•ï¼š/" itemprop="url">Nginx å…¥é—¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-03-28T15:08:15+08:00">
                2018-03-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Nginx-å…¥é—¨"><a href="#Nginx-å…¥é—¨" class="headerlink" title="Nginx å…¥é—¨"></a>Nginx å…¥é—¨</h4><p>Nginxç”±æ ¸å¿ƒå’Œæ¨¡å—ç»„æˆ</p>
<p>Gzip</p>
<p>Server èŠ‚ç‚¹</p>
<p>ä¸€ä¸ªserverå°±æ˜¯ä¸€ä¸ªè™šæ‹Ÿä¸»æœº</p>
<h3 id="åœ¨ä¸€ä¸ªnginxä¸Šé¢é…ç½®å¤šä¸ªè™šæ‹Ÿä¸»æœºçš„æ–¹æ³•ï¼š"><a href="#åœ¨ä¸€ä¸ªnginxä¸Šé¢é…ç½®å¤šä¸ªè™šæ‹Ÿä¸»æœºçš„æ–¹æ³•ï¼š" class="headerlink" title="åœ¨ä¸€ä¸ªnginxä¸Šé¢é…ç½®å¤šä¸ªè™šæ‹Ÿä¸»æœºçš„æ–¹æ³•ï¼š"></a>åœ¨ä¸€ä¸ªnginxä¸Šé¢é…ç½®å¤šä¸ªè™šæ‹Ÿä¸»æœºçš„æ–¹æ³•ï¼š</h3><p>é…ç½®å¤šä¸ªserver</p>
<pre><code>server     {
    listen 80;
    server_name xiaoyu.work;   //è¿™é‡Œåªå†™åŸŸåå°±è¡Œäº†ä¸ç”¨åŠ åè®®
    root index.html;

    location / {
        root html/CoffeeandTea.github.io;  //è¿™æ˜¯ä¸€ä¸ªé¡¹ç›®
        index index.html;
    }
}

// é…ç½®å¦ä¸€ä¸ªé¡¹ç›®çš„åœ°å€
server     {
    listen 80;
    server_name stormen.cn;  // ç¬¬äºŒä¸ªåŸŸå
    root index.html;

    location / {
        root html/CoffeeandTea.github.io;  //è¿™æ˜¯å¦ä¸€ä¸ªé¡¹ç›®
        index index.html;
    }
}</code></pre><p>è¿™æ ·é…ç½®åï¼Œé‡å¯nginxå°±å¯ä»¥åšåˆ°ï¼šè®¿é—®xiaoyu.workè®¿é—®çš„æ˜¯åšå®¢çš„é¡¹ç›®ï¼Œè®¿é—®stormen.cnè®¿é—®çš„æ˜¯å¦ä¸€ä¸ªé¡¹ç›®äº†ã€‚</p>
<p>æœ‰çš„ç½‘ç«™ä¸æ”¯æŒIPè®¿é—®</p>
<p>apacheæ˜¯å¤šçº¿ç¨‹çš„ï¼Œå®ƒä¸ºæ¯ä¸ªè¯·æ±‚å¼€å¯ä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼ˆæˆ–è€…æ˜¯è¿›ç¨‹ï¼Œå–å†³äºä½ çš„é…åˆï¼‰ã€‚Nginxå’Œnode.jsä¸æ˜¯å¤šçº¿ç¨‹çš„ï¼Œå› ä¸ºçº¿ç¨‹çš„æ¶ˆè€—å¤ªé‡äº†ï¼Œæ‰€ä»¥ä»–ä»¬é‡‡ç”¨å•çº¿ç¨‹ï¼ŒåŸºäºäº‹ä»¶çš„ï¼Œè¿™å°±æŠŠå¤„ç†ä¼—å¤šè¿æ¥æ‰€äº§å‡ºçš„çº¿ç¨‹/è¿›ç¨‹æ¶ˆè€—æ¶ˆé™¤äº†ã€‚</p>
<p>nodeä¸­çš„æ¨¡å‹è·Ÿæµè§ˆå™¨ä¸­å¾ˆæ˜¯ç±»ä¼¼ï¼Œå¦‚æœæœ‰ä¸‰ä¸ªäººåŒæ—¶è®¿é—®ä¸€ä¸ªnodeç«™ç‚¹çš„è¯ï¼Œä¸‰ä¸ªè¯·æ±‚çš„çœŸæ­£å¤„ç†æ“ä½œä¸åœ¨è¿™ä¸ªnodeçº¿ç¨‹ä¸­ï¼Œè¿™ä¸ªçº¿ç¨‹è¿è¡Œçš„æ˜¯event loopï¼ŒæŠŠè¯·æ±‚åˆ†å‘åˆ°workerçº¿ç¨‹ï¼Œworkerçº¿ç¨‹åº”è¯¥æ˜¯c++å®ç°çš„ï¼Œå®Œäº†ä¹‹åå†é€šè¿‡callbackçš„æ–¹å¼æŠŠè¿”å›çš„ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚<br>å¯ä»¥ç±»æ¯”äºæµè§ˆå™¨ä¸­çš„webapiçš„äº‹ä»¶ã€‚</p>
<p>node è¿è¡Œçš„æœºåˆ¶ï¼š</p>
<ul>
<li>V8å¼•æ“è§£æjavascriptè„šæœ¬</li>
<li>è§£æåçš„ä»£ç ï¼Œè°ƒç”¨node api</li>
<li>libuvåº“è´Ÿè´£nodeAPIçš„æ‰§è¡Œï¼Œå®ƒå°†ä¸åŒçš„ä»»åŠ¡åˆ†é…ç»™ä¸åŒçš„çº¿ç¨‹ï¼Œå½¢æˆä¸€ä¸ªevent loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰ï¼Œä»¥å¼‚æ­¥çš„æ–¹å¼å°†ä»»åŠ¡çš„æ‰§è¡Œç»“æœè¿”å›ç»™V8å¼•æ“ã€‚</li>
<li>V8å¼•æ“å†å°†ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2018/01/11/å‡½æ•°èŠ‚æµ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/11/å‡½æ•°èŠ‚æµ/" itemprop="url">å‡½æ•°èŠ‚æµ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-01-11T15:51:45+08:00">
                2018-01-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å‡½æ•°èŠ‚æµ"><a href="#å‡½æ•°èŠ‚æµ" class="headerlink" title="å‡½æ•°èŠ‚æµ"></a>å‡½æ•°èŠ‚æµ</h3><p>windowçš„resizeäº‹ä»¶ä¸æ˜¯åœ¨resizeç»“æŸä¹‹åè°ƒç”¨çš„ï¼Œå…·ä½“æ˜¯æ€æ ·ä¸€ä¸ªé¢‘ç‡æˆ‘ä»¬ä¸å¾—è€ŒçŸ¥ï¼Œä½†æ˜¯å´æ˜¯åœ¨ä¸åœçš„è°ƒç”¨ï¼Œç›´åˆ°çª—å£å¤§å°ä¸å†å˜åŒ–ã€‚ç±»ä¼¼çš„æœºåˆ¶è¿˜ç”¨é¼ æ ‡çš„mousemoveï¼Œéƒ½æ˜¯åœ¨çŸ­æ—¶é—´å†…é‡å¤è§¦å‘ã€‚åœ¨çº¢åŒ…ä¹¦ä¸­æœ‰ä¸“é—¨çš„åº”å¯¹æ­¤é—®é¢˜çš„å‡½æ•°èŠ‚æµ</p>
<pre><code>function throttle(method,context) {
    clearTimeout(method.tId);
    method.tId = setTimeout(function() {
        method.call(context)
    },500)
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2018/01/10/Functional Components/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/10/Functional Components/" itemprop="url">äº‹ä»¶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-01-10T09:47:35+08:00">
                2018-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><p>jsç¨‹åºé‡‡ç”¨äº†å¼‚æ­¥äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ¨¡å‹ã€‚åœ¨è¿™ç§ç¨‹åºè®¾è®¡é£æ ¼ä¸‹ï¼Œå½“æ–‡æ¡£ï¼Œæµè§ˆå™¨ï¼Œå…ƒç´ ï¼Œæˆ–è€…ä¸ä¹‹ç›¸å…³çš„å¯¹è±¡å‘ç”ŸæŸäº›æœ‰è¶£çš„äº‹æƒ…æ—¶ï¼Œwebæµè§ˆå™¨å°±ä¼šäº§ç”Ÿäº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œå½“webæµè§ˆå™¨åŠ è½½å®Œæ–‡æ¡£ï¼Œç”¨æˆ·æŠŠé¼ æ ‡æŒ‡é’ˆç§»åŠ¨åˆ°è¶…é“¾æ¥ä¸Šæˆ–è€…æ•²å‡»é”®ç›˜æ—¶å€™ï¼Œwebæµè§ˆå™¨éƒ½ä¼šäº§ç”Ÿäº‹ä»¶ã€‚å¦‚æœ JavaScript åº”ç”¨ç¨‹åºå…³æ³¨ç‰¹å®šç±»å‹çš„äº‹ä»¶ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥æ³¨å†Œå½“è¿™ç±»äº‹ä»¶å‘ç”Ÿæ—¶è¦è°ƒç”¨çš„ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ã€‚è¯·æ³¨æ„ï¼Œè¿™ç§é£æ ¼å¹¶ä¸åªåº”ç”¨äº Web ç¼–ç¨‹ï¼Œæ‰€æœ‰ä½¿ç”¨å›¾å½¢ç”¨æˆ·ç•Œé¢çš„åº”ç”¨ç¨‹åºéƒ½é‡‡ç”¨äº†å®ƒï¼Œå®ƒä»¬é™å¾…æŸäº›äº‹æƒ…å‘ç”Ÿï¼ˆå³ï¼Œå®ƒä»¬ç­‰å¾…äº‹ä»¶å‘ç”Ÿï¼‰ï¼Œç„¶åå®ƒä»¬å“åº”ã€‚<br>è¯·æ³¨æ„ï¼Œäº‹ä»¶æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªéœ€è¦å®šä¹‰çš„æŠ€æœ¯åè¯ã€‚ç®€è€Œè¨€ä¹‹ï¼Œäº‹ä»¶å°±æ˜¯ Web æµè§ˆå™¨é€šçŸ¥åº”ç”¨ç¨‹åºå‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…ï¼Œè¿™ç§åœ¨ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹ä¸­è¢«ç§°ä¸ºè§‚å¯Ÿå‘˜æ¨¡å¼ã€‚</p>
<h3 id="offsetWidth-width-clientWidth"><a href="#offsetWidth-width-clientWidth" class="headerlink" title="offsetWidth width clientWidth"></a>offsetWidth width clientWidth</h3><p>width: cssä¸­è®¾ç½®çš„å¤§å°<br>clientWidth: width + padding<br>offsetWidth: width + padding + border </p>
<p>documentElementå±æ€§è¿”å›æ–‡æ¡£çš„æ ¹èŠ‚ç‚¹<br>è¯­æ³•ï¼š<br>documentObject.documentElement</p>
<p>document.body   è¿”å›html domä¸­çš„bodyèŠ‚ç‚¹å³ <body><br>document.documentElement  è¿”å›html domä¸­çš„rootèŠ‚ç‚¹  å³<html></html></body></p>
<h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>åœ¨è·å–scrollTopæ–¹é¢çš„å·®å¼‚<br>å…¼å®¹æ–¹æ¡ˆï¼š   var scrollTop = document.documentElement.scrollTop || docuent.body.scrollTop</p>
<h3 id="scrollTop"><a href="#scrollTop" class="headerlink" title="scrollTop"></a>scrollTop</h3><p>å¯ä»¥è·å–æˆ–è€…è®¾ç½®ä¸€ä¸ªå…ƒç´ çš„å†…å®¹å‚ç›´æ»šåŠ¨çš„åƒç´ æ•°ã€‚ä¸€ä¸ªå…ƒç´ çš„scrollTopå€¼æ˜¯è¿™ä¸ªå…ƒç´ çš„é¡¶éƒ¨åˆ°å®ƒçš„æœ€é¡¶éƒ¨å¯è§å†…å®¹çš„è·ç¦»çš„åº¦é‡ã€‚å½“ä¸€ä¸ªå…ƒç´ çš„å†…å®¹æ²¡æœ‰äº§ç”Ÿå‚ç›´æ–¹å‘çš„æ»šåŠ¨æ¡ï¼Œé‚£ä¹ˆå®ƒçš„scrollTopå€¼æ˜¯0.</p>
<h3 id="htmläº‹ä»¶å¤„ç†ç¨‹åº"><a href="#htmläº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="htmläº‹ä»¶å¤„ç†ç¨‹åº"></a>htmläº‹ä»¶å¤„ç†ç¨‹åº</h3><p>æŸä¸ªå…ƒç´ æ”¯æŒé¢æ¯ç§äº‹ä»¶ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸ä¹‹ç›¸åº”çš„äº‹ä»¶å¤„ç†ç¨‹åºåŒåçš„htmlç‰¹æ€§æ¥æŒ‡å®šã€‚è¿™ä¸ªç‰¹æ€§çš„å€¼åº”è¯¥æ˜¯èƒ½å¤Ÿæ‰§è¡Œçš„javascriptä»£ç ã€‚ä¾‹å¦‚è¦åœ¨æŒ‰é’®è¢«å•å‡»æ—¶æ‰§è¡Œä¸€äº›JavaScriptï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·ç¼–å†™ä»£ç ï¼š</p>
<pre><code>&lt;input type=&quot;button&quot; value=&quot;Click Me&quot; onclick=&quot;console.log(&apos;Clicked&apos;)&quot;&gt;</code></pre><h3 id="clientX-äº‹ä»¶å±æ€§ï¼Œæ˜¯ä¸€ä¸ªäº‹ä»¶å±æ€§ã€‚è¿”å›å½“äº‹ä»¶è¢«è§¦å‘æ—¶é¼ æ ‡æŒ‡é’ˆç›¸å¯¹äºæµè§ˆå™¨é¡µé¢ï¼ˆæˆ–è€…å®¢æˆ·åŒºï¼‰çš„æ°´å¹³åæ ‡ã€‚å®¢æˆ·åŒºåŸŸæŒ‡çš„æ˜¯å½“å‰çš„çª—å£ã€‚"><a href="#clientX-äº‹ä»¶å±æ€§ï¼Œæ˜¯ä¸€ä¸ªäº‹ä»¶å±æ€§ã€‚è¿”å›å½“äº‹ä»¶è¢«è§¦å‘æ—¶é¼ æ ‡æŒ‡é’ˆç›¸å¯¹äºæµè§ˆå™¨é¡µé¢ï¼ˆæˆ–è€…å®¢æˆ·åŒºï¼‰çš„æ°´å¹³åæ ‡ã€‚å®¢æˆ·åŒºåŸŸæŒ‡çš„æ˜¯å½“å‰çš„çª—å£ã€‚" class="headerlink" title="clientX äº‹ä»¶å±æ€§ï¼Œæ˜¯ä¸€ä¸ªäº‹ä»¶å±æ€§ã€‚è¿”å›å½“äº‹ä»¶è¢«è§¦å‘æ—¶é¼ æ ‡æŒ‡é’ˆç›¸å¯¹äºæµè§ˆå™¨é¡µé¢ï¼ˆæˆ–è€…å®¢æˆ·åŒºï¼‰çš„æ°´å¹³åæ ‡ã€‚å®¢æˆ·åŒºåŸŸæŒ‡çš„æ˜¯å½“å‰çš„çª—å£ã€‚"></a>clientX äº‹ä»¶å±æ€§ï¼Œæ˜¯ä¸€ä¸ªäº‹ä»¶å±æ€§ã€‚è¿”å›å½“äº‹ä»¶è¢«è§¦å‘æ—¶é¼ æ ‡æŒ‡é’ˆç›¸å¯¹äºæµè§ˆå™¨é¡µé¢ï¼ˆæˆ–è€…å®¢æˆ·åŒºï¼‰çš„æ°´å¹³åæ ‡ã€‚å®¢æˆ·åŒºåŸŸæŒ‡çš„æ˜¯å½“å‰çš„çª—å£ã€‚</h3><p>è¯­æ³•ï¼š   event.clientX</p>
<h3 id="scrollWidth-clientWidth-offsetWidth-çš„åŒºåˆ«"><a href="#scrollWidth-clientWidth-offsetWidth-çš„åŒºåˆ«" class="headerlink" title="scrollWidth clientWidth offsetWidth çš„åŒºåˆ«"></a>scrollWidth clientWidth offsetWidth çš„åŒºåˆ«</h3><p>è¯´æ˜ï¼š   scrollWidth: å¯¹è±¡å®é™…å†…å®¹çš„å®½åº¦ï¼ˆæ³¨æ„å¼ºè°ƒçš„æ˜¯å…ƒç´ ä¸­çš„å†…å®¹ï¼‰ï¼Œä¼šéšç€å¯¹è±¡ä¸­å†…å®¹è¶…è¿‡å¯æ˜¯åŒºåŸŸåè€Œå˜å¤§ã€‚</p>
<p>clientWidth :å¯¹è±¡å†…å®¹çš„å¯æ˜¯åŒºåŸŸçš„å®½åº¦ï¼Œä¸åŒ…æ‹¬æ»šåŠ¨æ¡è¾¹çº¿ï¼Œé™¤éå¯¹è±¡å…ƒç´ è‡ªèº«çš„æ˜¾ç¤ºå˜å¤§æ‰ä¼šå˜å¤§æ˜¯å…ƒç´ è‡ªèº«çš„ä¸€ä¸ªå¯è§åŒºåŸŸ</p>
<p>offsetWidthï¼š  å¯¹è±¡çš„æ•´ä½“çš„å®é™…å®½åº¦ï¼Œè·ŸclientWidthçš„åŒºåˆ«ä»…ä»…æ˜¯åŒ…æ‹¬æ»šåŠ¨æ¡è¾¹çº¿ï¼ŒåŒæ ·æ˜¯éšç€å¯¹è±¡çš„æ˜¾ç¤ºå¤§å°çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p>
<h3 id="target"><a href="#target" class="headerlink" title="target"></a>target</h3><p>åœ¨äº‹ä»¶å¤„ç†ç¨‹åºå†…éƒ¨ï¼Œå¯¹è±¡thiså§‹ç»ˆç­‰äºcurrentTargetçš„å€¼ï¼Œè€Œtargetåˆ™åªåŒ…å«äº‹ä»¶çš„å®é™…ç›®æ ‡ã€‚å¦‚æœç›´æ¥å°†äº‹ä»¶å¤„ç†ç¨‹åºæŒ‡å®šç»™äº†ç›®æ ‡å…ƒç´ ï¼Œåˆ™this currentTarget å’Œ targetåŒ…å«ç›¸åŒçš„å€¼ã€‚</p>
<pre><code>var btn = document.getElementById(&apos;myBtn&apos;)
btn.onclick = function(event) {
    console.log(event.currentTarget === this);  // true
    console.log(event.target === this) // true
}</code></pre><p>è¿™ä¸ªä¾‹å­æ£€æµ‹äº†currentTargetå’Œtargetä¸thisçš„å€¼ã€‚ç”±äºclickäº‹ä»¶çš„ç›®æ ‡æ˜¯æŒ‰é’®ï¼Œå› æ­¤ä¸‰ä¸ªå€¼æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å¦‚æœäº‹ä»¶å¤„ç†ç¨‹åºå­˜åœ¨äºæŒ‰é’®çš„çˆ¶èŠ‚ç‚¹ä¸­ï¼Œé‚£ä¹ˆè¿™äº›å€¼æ˜¯ä¸ç›¸åŒçš„</p>
<pre><code>document.body.onclick = function(event) {
    console.log(event.currentTarget === document.body)// true
    console.log(this === document.body) // true
    console.log(event.target === document.getElementById(&apos;myBtn&apos;))   // true
}</code></pre><p>å½“ç‚¹å‡»è¿™ä¸ªä¾‹å­ä¸­çš„æŒ‰é’®æ—¶å€™ï¼Œthiså’ŒcurrentTargetéƒ½ç­‰äºdocuent.body,å› ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºæ˜¯æ³¨å†Œåˆ°è¿™ä¸ªå…ƒç´ ä¸Šçš„ï¼Œç„¶è€Œï¼Œtargetå…ƒç´ å´ç­‰äºæŒ‰é’®å…ƒç´ ï¼Œå› ä¸ºå®ƒæ˜¯clickäº‹ä»¶çœŸæ­£çš„ç›®æ ‡ã€‚ç”±äºæŒ‰é’®ä¸Šå¹¶æ²¡æœ‰æ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åºï¼Œç»“æœ click äº‹ä»¶å°±å†’æ³¡åˆ°äº† document.bodyï¼Œåœ¨é‚£é‡Œäº‹ä»¶æ‰å¾—åˆ°äº†å¤„ç†ã€‚</p>
<p>äº‹ä»¶å¯¹è±¡çš„ eventPhase å±æ€§ï¼Œå¯ä»¥ç”¨æ¥ç¡®å®šäº‹ä»¶å½“å‰æ­£ä½äºäº‹ä»¶æµçš„å“ªä¸ªé˜¶æ®µã€‚å¦‚æœæ˜¯åœ¨æ•è·é˜¶æ®µè°ƒç”¨çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œé‚£ä¹ˆ eventPhase ç­‰äº 1ï¼›å¦‚æœäº‹ä»¶å¤„ç†ç¨‹åºå¤„äºç›®æ ‡å¯¹è±¡ä¸Šï¼Œåˆ™ eventPhase ç­‰äº 2ï¼›å¦‚æœæ˜¯åœ¨å†’æ³¡é˜¶æ®µè°ƒç”¨çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼ŒeventPhase ç­‰äº 3ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡â€œå¤„äºç›®æ ‡â€å‘ç”Ÿåœ¨å†’æ³¡é˜¶æ®µï¼Œä½† eventPhase ä»ç„¶ä¸€ç›´ç­‰äº 2ã€‚æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p>
<pre><code>var btn = document.getElementById(&quot;myBtn&quot;);</code></pre><p>btn.onclick = function(event){<br>    console.log(event.eventPhase); // 2<br>};<br>document.body.addEventListener(â€œclickâ€, function(event){<br>    console.log(event.eventPhase); // 1<br>}, true);<br>document.body.onclick = function(event){<br>    console.log(event.eventPhase); // 3<br>};</p>
<p>å½“å•å‡»è¿™ä¸ªä¾‹å­ä¸­çš„æŒ‰é’®æ—¶ï¼Œé¦–å…ˆæ‰§è¡Œçš„äº‹ä»¶å¤„ç†ç¨‹åºæ˜¯åœ¨æ•è·é˜¶æ®µè§¦å‘çš„æ·»åŠ åˆ° document.body ä¸­çš„é‚£ä¸€ä¸ªï¼Œç»“æœä¼šå¼¹å‡ºä¸€ä¸ªè­¦å‘Šæ¡†æ˜¾ç¤ºè¡¨ç¤º eventPhase çš„ 1ã€‚æ¥ç€ï¼Œä¼šè§¦å‘åœ¨æŒ‰é’®ä¸Šæ³¨å†Œçš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæ­¤æ—¶çš„ eventPhase å€¼ä¸º 2ã€‚æœ€åä¸€ä¸ªè¢«è§¦å‘çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæ˜¯åœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œçš„æ·»åŠ åˆ° document.body ä¸Šçš„é‚£ä¸€ä¸ªï¼Œæ˜¾ç¤º eventPhase çš„å€¼ä¸º 3ã€‚è€Œå½“ eventPhase ç­‰äº 2 æ—¶ï¼Œthisã€target å’Œ currentTarget å§‹ç»ˆéƒ½æ˜¯ç›¸ç­‰çš„</p>
<p>åªæœ‰åœ¨äº‹ä»¶å¤„ç†ç¨‹åºæ‰§è¡ŒæœŸé—´ï¼Œeventå¯¹è±¡æ‰ä¼šå­˜åœ¨ï¼Œä¸€æ—¦äº‹ä»¶å¤„ç†ç¨‹åºæ‰§è¡Œå®Œæ¯•ï¼Œeventå¯¹è±¡å°±ä¼šé”€æ¯</p>
<h3 id="React"><a href="#React" class="headerlink" title="React"></a>React</h3><pre><code>    class Square extends React.Component {
  render() {
    return (
      &lt;button className=&quot;square&quot; onClick={() =&gt; alert(&apos;click&apos;)}&gt;
        {this.props.value}
      &lt;/button&gt;
    );
  }
}</code></pre><p>Doing onClick={alert(â€˜clickâ€™)} would alert immediately instead of when the button is clicked.</p>
<p>æ„æ€æ˜¯è¯´åšäº‹ä»¶ç»‘å®šçš„æ—¶å€™å¦‚æœç›´æ¥å†™onClick={alert(â€˜clickâ€™)}æ˜¯ä¸å¯¹çš„ä¼šåœ¨ä½ æ²¡æœ‰ç‚¹å‡»ä¹‹å‰ç›´æ¥å°±æ‰§è¡Œäº†ã€‚å› ä¸ºåœ¨{}ä¸­çš„æ˜¯jsæ˜¯ä¼šç«‹å³æ‰§è¡Œçš„ã€‚onClickåªæ˜¯Reactä¸­çš„ä¸€ä¸ªæ ‡è®°ï¼Œæ˜¯Reactè®¤è¯†çš„æ ‡å¿—ï¼ŒReactåœ¨ç¼–è¯‘çš„æ—¶å€™è‚¯å®šä¼šæœé›†è¿™äº›æ ‡è®°æ¥ç¿»è¯‘æˆæµè§ˆå™¨ä¸­çš„clickäº‹ä»¶ã€‚</p>
<p>In JavaScript classes, you need to explicitly call super(); when defining the constructor of a subclass.</p>
<p>åœ¨å®šä¹‰ä¸€ä¸ªå­ç±»çš„constructorçš„æ—¶å€™åŠ¡å¿…è®°å¾—è¦è°ƒç”¨super();</p>
<pre><code>    class Square extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      value: null,
    };
  }

  render() {
    return (
      &lt;button className=&quot;square&quot; onClick={() =&gt; alert(&apos;click&apos;)}&gt;
        {this.props.value}
      &lt;/button&gt;
    );
  }
}</code></pre><p>ç”¨stateæ¥ä»£æ›¿props</p>
<pre><code>        class Square extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      value: null,
    };
  }

  render() {
    return (
      &lt;button className=&quot;square&quot; onClick={() =&gt; this.setState({value: &apos;X&apos;})}&gt;
        {this.state.value}
      &lt;/button&gt;
    );
  }
}</code></pre><p>Whenever this.setState is called, an update to the component is scheduled, causing React to merge in the passed state update and rerender the component along with its descendants.</p>
<p>æ¯å½“this.setStateæ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œreactå°±ä¼šæ ¹æ®æœ€æ–°çš„stateæ¥è¿›è¡Œä¸€æ¬¡æ›´æ–°ã€‚</p>
<p>When you want to aggregate data from multiple children or to have two child components communicate with each other, move the state upwards so that it lives in the parent component. The parent can then pass the state back down to the children via props, so that the child components are always in sync with each other and with the parent.</p>
<p>å½“æƒ³è¦ä¸¤ä¸ªå­—ç»„ä»¶äº¤æµæˆ–è€…çˆ¶äº²ç»„ä»¶åšä¸€ä¸ªæ•°æ®çš„ç»Ÿè®¡çš„æ—¶å€™ï¼Œè¦move the state upwards å°±æ˜¯å°†stateä¼ é€’åˆ°çˆ¶ç»„ä»¶ä¸­å»ã€‚</p>
<p>Now we need to change what happens when a square is clicked. The Board component now stores which squares are filled, which means we need some way for Square to update the state of Board.<br>Since component state is considered private, we canâ€™t update Boardâ€™s state directly from Square.</p>
<p>stateæ˜¯ç»„ä»¶ç§æœ‰çš„ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥åœ¨å¦ä¸€ä¸ªç»„ä»¶ä¸­æ”¹å˜å…¶ä»–ç»„ä»¶çš„state</p>
<p>The usual pattern here is pass down a function from Board to Square that gets called when the square is clicked. </p>
<p>é€šå¸¸çš„å¤„ç†æ–¹å¼æ˜¯çˆ¶ç»„ä»¶pass down ä¸€ä¸ªæ–¹æ³•ç»™å­ç»„ä»¶æ¥è°ƒç”¨</p>
<p>There are generally two ways for changing data. The first method is to mutate the data by directly changing the values of a variable. The second method is to replace the data with a new copy of the object that also includes desired changes.</p>
<p>æœ‰ä¸¤ç§æ”¹å˜æ•°æ®çš„æ–¹å¼ï¼šç¬¬ä¸€ç§æ˜¯ç›´æ¥ä¿®æ”¹åŸå§‹æ•°æ®ï¼Œç¬¬äºŒç§æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å¤‡ä»½ã€‚</p>
<p>ç¬¬ä¸€ç§ï¼šç›´æ¥ä¿®æ”¹</p>
<pre><code>var player = {score: 1,name:&apos;xiaoyu&apos;};
player.score = 2;
// ç°åœ¨player = {score: 2,name: &apos;xiaoyu&apos;};</code></pre><p>ç¬¬äºŒç§ï¼šåˆ›å»ºå¤‡ä»½</p>
<pre><code>var player = {score: 1, name: &apos;xiaoyu&apos;};
var newPlayer = Object.assign({},player,{score:2});
ç°åœ¨æ²¡æœ‰æ”¹å˜åŸæ¥çš„playerå¯¹è±¡è€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡</code></pre><p>è™½ç„¶ä¸¤ç§æ–¹å¼çš„æœ€ç»ˆç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ç¬¬äºŒç§æ–¹å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬æé«˜ç»„ä»¶çš„æ€§èƒ½ã€‚</p>
<h3 id="å¥½å¤„1-Easier-Undo-Redo-and-Time-Travel"><a href="#å¥½å¤„1-Easier-Undo-Redo-and-Time-Travel" class="headerlink" title="å¥½å¤„1: Easier Undo/Redo and Time Travel"></a>å¥½å¤„1: Easier Undo/Redo and Time Travel</h3><p>Immutability also makes some complex features much easier to implement. For example, further in this tutorial we will implement time travel between different stages of the game. Avoiding data mutations lets us keep a reference to older versions of the data, and switch between them if we need to.</p>
<p>æ›´åŠ æ–¹ä¾¿çš„å›é€€ã€‚æˆ‘ä»¬å¯ä»¥ä¿æŒå¯¹æ—§ç‰ˆæœ¬æ•°æ®çš„å¼•ç”¨ï¼Œä»è€Œæ›´åŠ ä»å®¹çš„åœ¨æ–°æ—§çŠ¶æ€ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚</p>
<h3 id="å¥½å¤„2ï¼š-Tracking-Changes-è·Ÿè¸ªå˜åŒ–"><a href="#å¥½å¤„2ï¼š-Tracking-Changes-è·Ÿè¸ªå˜åŒ–" class="headerlink" title="å¥½å¤„2ï¼š Tracking Changes è·Ÿè¸ªå˜åŒ–"></a>å¥½å¤„2ï¼š Tracking Changes è·Ÿè¸ªå˜åŒ–</h3><p>Determining if a mutated object has changed is complex because changes are made directly to the object. This then requires comparing the current object to a previous copy, traversing the entire object tree, and comparing each variable and value. This process can become increasingly complex.</p>
<p>Determining how an immutable object has changed is considerably easier. If the object being referenced is different from before, then the object has changed. Thatâ€™s it.</p>
<p>å¦‚æœé‡‡ç”¨ç›´æ¥åœ¨åŸæ¥çš„æ•°æ®å¯¹è±¡ä¸­ä¿®æ”¹çš„æ–¹å¼ï¼Œé‚£ä¹ˆå½“å‘ç”Ÿä¸€ä¸ªæ”¹å˜çš„æ—¶å€™è¦å‰åå¯¹æ•°æ®å¯¹è±¡è¿›è¡Œå¯¹æ¯”æ‰¾åˆ°åšäº†æ”¹å˜çš„åœ°æ–¹ï¼Œè€Œé‡‡ç”¨æ–¹å¼äºŒåˆ™å®¹æ˜“åˆ¤æ–­å¤šäº† ï¼Œåªè¦å¯¹è±¡çš„å¼•ç”¨æ”¹å˜äº†ï¼Œé‚£æ•°æ®å¯¹è±¡å°±æ”¹å˜äº†ã€‚å¦‚æ­¤ç®€å•ã€‚</p>
<h3 id="å¥½å¤„3-Determining-When-to-Re-render-in-React"><a href="#å¥½å¤„3-Determining-When-to-Re-render-in-React" class="headerlink" title="å¥½å¤„3: Determining When to Re-render in React"></a>å¥½å¤„3: Determining When to Re-render in React</h3><p>The biggest benefit of immutability in React comes when you build simple pure components. Since immutable data can more easily determine if changes have been made, it also helps to determine when a component requires being re-rendered.<br>To learn more about shouldComponentUpdate() and how you can build pure components take a look at Optimizing Performance.</p>
<p>æœ€å¤§çš„å¥½å¤„å°±æ˜¯ï¼Œå½“ä½ å†™çš„ç»„ä»¶æ˜¯ç¬¦åˆâ€˜å•ä¸€æŒ‡è´£â€™çš„ç»„ä»¶çš„æ—¶å€™ï¼Œä¸æ”¹å˜åŸå§‹æ•°æ®çš„æ–¹å¼å¯ä»¥æ›´åŠ æ–¹ä¾¿çš„åˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†æ•°æ®çš„å˜åŒ–ç»§è€Œå®ƒä¹Ÿæ›´åŠ æ–¹ä¾¿çš„æ¥åˆ¤æ–­æ˜¯å¦è¦è¿›è¡Œä»æ–°æ¸²æŸ“ã€‚</p>
<h2 id="Functional-Components"><a href="#Functional-Components" class="headerlink" title="Functional Components"></a>Functional Components</h2><p>åŠŸèƒ½ç»„ä»¶<br>Weâ€™ve removed the constructor, and in fact, React supports a simpler syntax called functional components for component types like Square that only consist of a render method. Rather than define a class extending React.Component, simply write a function that takes props and returns what should be rendered.</p>
<p>Reactæ”¯æŒä¸€ç§æˆ‘ä»¬ç§°ä¸ºâ€˜åŠŸèƒ½ç»„ä»¶â€˜çš„ç»„ä»¶ã€‚å®ƒåªåŒ…å«ä¸€ä¸ªrenderæ¸²æŸ“å‡½æ•°ã€‚å¹¶ä¸”å†™çš„æ—¶å€™ä¸ç”¨å¾ˆéº»çƒ¦çš„å®šä¹‰ä¸€ä¸ªç±»æ¥ç»§æ‰¿React.Componentè€Œæ˜¯ç®€å•çš„å†™ä¸€ä¸ªå¸¦å‚æ•°çš„function ç„¶åè¿”å›éœ€è¦è¢«æ¸²æŸ“ï¼ˆrenderï¼‰çš„ä¸œè¥¿å°±å¯ä»¥äº†ã€‚<br>æ”¹å†™ä¹‹å‰çš„ç»„ä»¶</p>
<pre><code>function Square(props) {
    return (
        &lt;button className=&quot;square&quot; onClick={props.onClick}&gt;{props.value}&lt;/button&gt;
    )
}</code></pre><p>Youâ€™ll need to change this.props to props both times it appears. Many components in your apps will be able to be written as functional components: these components tend to be easier to write and React will optimize them more in the future.</p>
<p>å¤§å¤šæ•°çš„ç»„ä»¶éƒ½å¯ä»¥å†™æˆåŠŸèƒ½ç»„ä»¶ï¼Œè¿™ç§ç»„ä»¶å†™èµ·æ¥æ›´åŠ çš„ç®€å•å¹¶ä¸”reactä»¥åä¼šå¯¹åŠŸèƒ½ç»„ä»¶çš„ä¼˜åŒ–è¶Šæ¥è¶Šå¥½ã€‚</p>
<p>Note that onClick={props.onClick()} would not work because it would call props.onClick immediately instead of passing it down.</p>
<p>ä¸€å®šè¦æ³¨æ„è¿™é‡Œçš„æ–¹æ³•è°ƒç”¨çš„å†™æ³•ï¼Œ{}ä¸­çš„jsä»£ç ä¼šç«‹å³æ‰§è¡Œï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯å°†ä¸€ä¸ªå‡½æ•°ä¼ é€’ä¸‹å»ä¸æ˜¯ç›´æ¥æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚</p>
<p>Weâ€™ll want the top-level Game component to be responsible for displaying the list of moves. So just as we pulled the state up before from Square into Board, letâ€™s now pull it up again from Board into Game â€“ so that we have all the information we need at the top level.</p>
<p>ç”¨gameç»„ä»¶æ¥åšä¸€ä¸ªå†å²çš„æ­¥éª¤çš„è®°å½•ï¼Œå°±åƒæˆ‘ä»¬å°†stateä»squareæåˆ°boardä¸­å»ä¸€æ ·æˆ‘ä»¬å†æ¬¡å°†stateä»boardä¸­æåˆ°gameä¸­å»ã€‚<br>First, set up the initial state for Game by adding a constructor to it:<br>é‚£ä¹ˆé¦–å…ˆå°±è¦åˆå§‹åŒ–gameåˆ°stateçŠ¶æ€ï¼ˆæ—¢ç„¶è®¾è®¡åˆ°è¦ä¿å­˜çŠ¶æ€é‚£å°±è¦å†™constructorå‡½æ•°äº†ï¼Œè¿™ä¸ªå¯ä»¥åšä¸ºä¸€ä¸ªåˆ¤æ–­æ ‡å‡†è¯¶ï¼‰</p>
<p>Then change Board so that it takes squares via props and has its own onClick prop specified by Game, like the transformation we made for Square earlier.</p>
<p>ç„¶åå°±è¦æ”¹å†™boardäº†ï¼Œè®©å®ƒä»gameä¼ é€’å‡ºæ¥çš„åˆ°propsä¸­è·å¾—squareså’ŒonClickäº‹ä»¶å±æ€§ã€‚<br>æ¥ä¸‹æ¥è¦åšçš„ï¼š</p>
<ul>
<li>Delete the constructor in Board.</li>
<li>Replace this.state.squares[i] with this.props.squares[i] in Boardâ€™s renderSquare.</li>
<li>Replace this.handleClick(i) with this.props.onClick(i) in Boardâ€™s renderSquare.</li>
</ul>
<p>åˆ é™¤boardä¸­çš„æ„é€ å‡½æ•°<br>æ›¿æ¢ this.state.squares[i] ä¸º this.props.squares[i]<br>æ›¿æ¢this.handleClick(i) ä¸º this.props.onClick(i)</p>
<h3 id="the-keys"><a href="#the-keys" class="headerlink" title="the keys"></a>the keys</h3><p>When a key is added to the set, a component is created; when a key is removed, a component is destroyed. Keys tell React about the identity of each component, so that it can maintain the state across rerenders. </p>
<p>Itâ€™s strongly recommended that you assign proper keys whenever you build dynamic lists.</p>
<p>åœ¨ç”ŸæˆåŠ¨æ€åˆ—è¡¨æ—¶å€™ä¸€å®šè¦ç¡®ä¿åˆ†é…æ­£ç¡®çš„keys<br>Component keys donâ€™t need to be globally unique, only unique relative to the immediate siblings.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2017/12/29/Git2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/29/Git2/" itemprop="url">git</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-12-29T18:19:45+08:00">
                2017-12-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h3><h4 id="bugåˆ†æ”¯"><a href="#bugåˆ†æ”¯" class="headerlink" title="bugåˆ†æ”¯"></a>bugåˆ†æ”¯</h4><p>è½¯ä»¶å¼€å‘ä¸­bugå°±åƒå®¶å¸¸ä¾¿é¥­ä¸€æ ·ï¼Œæœ‰äº†bugå°±éœ€è¦ä¿®å¤ï¼Œåœ¨gitä¸­ç”±äºåˆ†æ”¯æ˜¯å¦‚æ­¤çš„å¼ºå¤§ï¼Œæ‰€ä»¥ï¼Œæ¯ä¸ªbugéƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªæ–°çš„ä¸´æ—¶åˆ†æ”¯æ¥ä¿®å¤ï¼Œä¿®å¤åï¼Œåˆå¹¶åˆ†æ”¯ï¼Œç„¶åå°†ä¸´æ—¶åˆ†æ”¯åˆ é™¤ã€‚å½“ä½ æ¥å—åˆ°ä¸€ä¸ªä»£å·ä¸º001çš„bugçš„ä»»åŠ¡çš„æ—¶å€™ï¼Œå¾ˆè‡ªç„¶çš„ï¼Œä½ æƒ³åˆ›å»ºä¸€ä¸ªåˆ†æ”¯issue-001æ¥ä¿®å¤å®ƒï¼Œä½†æ˜¯ï¼Œå½“å‰ä½ æ­£åœ¨devä¸Šè¿›è¡Œçš„å·¥ä½œè¿˜æ²¡æœ‰æäº¤ï¼Œå¹¶ä¸æ˜¯ä¸æƒ³æäº¤ï¼Œè€Œæ˜¯å·¥ä½œåªè¿›è¡Œåˆ°ä¸€åŠï¼Œè¿˜æ²¡æ³•æäº¤ï¼Œé¢„è®¡å®Œæˆè¿˜éœ€è¦1å¤©çš„æ—¶é—´ä½†æ˜¯ï¼Œå¿…é¡»åœ¨2ä¸ªå°æ—¶ä¹‹å†…ä¿®å¤ï¼Œæ€ä¹ˆåŠï¼Ÿå¹¸å¥½gitæä¾›äº†ä¸€ä¸ªstashåŠŸèƒ½ï¼Œå¯ä»¥æŠŠå½“å‰å·¥ä½œç°åœºå‚¨è—èµ·æ¥ï¼Œç­‰ä»¥åæ¢å¤ç°åœºåç»§ç»­å·¥ä½œã€‚</p>
<pre><code>$ git stash
saved working directory and index state WIP on dev:6224937 add merge
HEAD is now at 6224937 add merge</code></pre><p>ç°åœ¨ï¼Œç”¨git statusæŸ¥çœ‹å·¥ä½œåŒºï¼Œå°±æ˜¯å¹²å‡€çš„ï¼ˆé™¤éæœ‰æ²¡æœ‰è¢«gitç®¡ç†çš„æ–‡ä»¶ï¼‰ï¼Œå› æ­¤å¯ä»¥æ”¾å¿ƒçš„åˆ›å»ºåˆ†æ”¯æ¥ä¿®å¤bugï¼Œé¦–å…ˆè¦ç¡®å®šåœ¨å“ªä¸ªåˆ†æ”¯ä¸Šä¿®å¤bugï¼Œå‡å®šéœ€è¦åœ¨masteråˆ†æ”¯ä¸Šä¿®å¤ï¼Œå°±ä»masteråˆ›å»ºä¸´æ—¶åˆ†æ”¯</p>
<pre><code>$ git chekcout master
Switched to branch &apos;master&apos;
Your branch is ahead of &apos;origin/master&apos; by 6 commits
$ git checkout -b issue-01
Switched to a now branch &apos;issue001&apos;</code></pre><p>ç°åœ¨ä¿®å¤bugï¼Œä¿®å¤å®Œåæäº¤ã€‚ä¿®å¤å®Œåï¼Œåˆ‡æ¢åˆ°masteråˆ†æ”¯å¹¶å®Œæˆåˆå¹¶ï¼Œæœ€ååˆ é™¤issue-001åˆ†æ”¯ã€‚OKç°åœ¨æ˜¯æ—¶å€™æ¥ç€å›åˆ°devåˆ†æ”¯å¹²æ´»äº†ã€‚</p>
<pre><code>$ git checkout dev
Switched to branch &apos;dev&apos;</code></pre><p>æ­¤æ—¶æŸ¥çœ‹åˆ†æ”¯çš„è¯ï¼Œä¼šå‘ç°å·¥ä½œåŒºæ˜¯å¹²å‡€çš„ï¼Œåˆšæ‰çš„å·¥ä½œç°æˆå­˜åˆ°å“ªé‡Œå»äº†ï¼Ÿå¯ä»¥ç”¨git stash listå‘½ä»¤çœ‹çœ‹</p>
<pre><code>$ git stash list
stash@{0}:WIP on dev:6224937 add merge</code></pre><p>å·¥ä½œç°åœºè¿˜åœ¨ï¼ŒgitæŠŠstashå†…å®¹å­˜åœ¨æŸä¸ªåœ°æ–¹äº†ï¼Œä½†æ˜¯éœ€è¦æ¢å¤ä¸€ä¸‹ï¼Œæœ‰ä¸¤ä¸ªåŠæ³•ï¼šä¸€ä¸ªæ˜¯ç”¨git stash applyæ¢å¤ï¼Œä½†æ˜¯æ¢å¤åï¼Œstashå†…å®¹å¹¶ä¸åˆ é™¤ï¼Œä½ éœ€è¦ç”¨git stash dropæ¥åˆ é™¤</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2017/12/28/æ­£åˆ™è¡¨è¾¾å¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/æ­£åˆ™è¡¨è¾¾å¼/" itemprop="url">æ­£åˆ™è¡¨è¾¾å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-12-28T21:27:32+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h3><h4 id="æ„é€ å‡½æ•°å®šä¹‰"><a href="#æ„é€ å‡½æ•°å®šä¹‰" class="headerlink" title="æ„é€ å‡½æ•°å®šä¹‰"></a>æ„é€ å‡½æ•°å®šä¹‰</h4><p>æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯è¦åŒ¹é…çš„å­—ç¬¦ä¸²æ¨¡å¼ï¼ˆè¿™ä¸ªå‚æ•°éœ€è¦æ˜¯å­—ç¬¦ä¸²ï¼Œä¸èƒ½æ˜¯æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯æ ‡å¿—å­—ç¬¦ä¸²ï¼Œg i m</p>
<pre><code>var reg = new RegExp(&apos;java[script]&apos;,&apos;gim&apos;)</code></pre><p>g,i,mæ˜¯å¯é€‰çš„å‚æ•°ï¼Œå…¶ä¸­gï¼šå…¨æ–‡æŸ¥æ‰¾â€“æ¨¡å¼è¢«åº”ç”¨äºæ‰€æœ‰çš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯å‘ç°ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹æ—¶å°±ç«‹å³åœæ­¢ã€‚i:å¿½ç•¥å¤§å°å†™ã€‚m:å¤šè¡ŒæŸ¥æ‰¾ï¼Œåœ¨è¾¾åˆ°ä¸€è¡Œæ–‡æœ¬æœ«å°¾æ—¶è¿˜ä¼šç»§ç»­æŸ¥æ‰¾ä¸‹ä¸€è¡Œä¸­æ˜¯å¦å­˜åœ¨æ¨¡å¼åŒ¹é…çš„é¡¹ã€‚<br>åœ¨es3ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ä¼šå§‹ç»ˆå…±äº«ä¸€ä¸ªRegExpå®ä¾‹ï¼Œè€Œä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„æ¯ä¸ªRegExpéƒ½æ˜¯ä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚ä½†æ˜¯åœ¨es5ä¸­æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡å’Œæ„é€ å‡½æ•°ä¸€æ ·ï¼Œéƒ½ä¼šåˆ›å»ºæ–°çš„RegExpå®ä¾‹ã€‚</p>
<p>replace(RegExp/str,str_replace),replaceæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°å°†ä¼šæ›¿æ¢ç¬¬ä¸€ä¸ªå‚æ•°åŒ¹é…åˆ°çš„å€¼ï¼Œç„¶åå°†æ›¿æ¢åçš„åŸæ–‡æœ¬ä½œä¸ºè¿”å›å€¼è¿”å›ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2017/12/28/å‰ç«¯çŸ¥è¯†å¤§æ‚çƒ©/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/28/å‰ç«¯çŸ¥è¯†å¤§æ‚çƒ©/" itemprop="url">å‰ç«¯çŸ¥è¯†å¤§æ‚çƒ©</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-12-28T21:26:52+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="å‰ç«¯çŸ¥è¯†å¤§æ‚çƒ©"><a href="#å‰ç«¯çŸ¥è¯†å¤§æ‚çƒ©" class="headerlink" title="å‰ç«¯çŸ¥è¯†å¤§æ‚çƒ©"></a>å‰ç«¯çŸ¥è¯†å¤§æ‚çƒ©</h1><h3 id="å¾®ä¿¡"><a href="#å¾®ä¿¡" class="headerlink" title="å¾®ä¿¡"></a>å¾®ä¿¡</h3><p>1 åˆ¤æ–­æ˜¯å¦æ¥è‡ªå¾®ä¿¡æµè§ˆå™¨</p>
<pre><code>function isFromWeiXin() {
    var ua = navigator.userAgent.toLowerCase()
    if(ua.match(/MicroMessager/i) == &apos;micromessager&apos;){
    return true
    }
    return false
}</code></pre><p>2 åˆ¤æ–­æ‰‹æœºçš„ç±»å‹</p>
<pre><code>var user = &apos;&apos;;
if(/android/i.test(navigator.userAgent)){
    user = &apos;1&apos;
}
if(/ipad|iphone|mac/i.test(navigator.userAgent)){
    user = &apos;0&apos;
}</code></pre><h3 id="æœç´¢å¼•æ“"><a href="#æœç´¢å¼•æ“" class="headerlink" title="æœç´¢å¼•æ“"></a>æœç´¢å¼•æ“</h3><p>æœç´¢å¼•æ“çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼Ÿå…³é”®å­—ç½‘é¡µå†…æŸ¥è¯¢å—ï¼Ÿä¸ºä»€ä¹ˆå¯ä»¥è¾¾åˆ°å¦‚æ­¤ä¹‹å¿«çš„é€Ÿåº¦ï¼Ÿ<br>ç­”ï¼š  åŸç†é€šä¿—æ¥è®²å°±æ˜¯æœç´¢å¼•æ“å…ˆåœ¨ç½‘ä¸Šæ‰¾æ¥æ‰€æœ‰ä¿¡æ¯ï¼Œè¿™ä¸ªè¿‡ç¨‹å°†æ°¸è¿œä¸åœæ¯çš„è¿›è¡Œä¸‹å»ï¼Œç„¶åå»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼Œç„¶åå¯¹è¿™äº›ä¿¡æ¯åˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œå½“ç”¨æˆ·æ¥æœç´¢çš„æ—¶å€™ï¼Œç›´æ¥ç”¨è‡ªå·±å½’çº³ç¼–æ’å¥½çš„ç´¢å¼•ï¼Œæ‰¾è‡ªå·±æ•°æ®åº“é‡Œçš„ä¿¡æ¯åé¦ˆç»™ç”¨æˆ·ã€‚</p>
<h3 id="ç½‘ç»œçˆ¬è™«"><a href="#ç½‘ç»œçˆ¬è™«" class="headerlink" title="ç½‘ç»œçˆ¬è™«"></a>ç½‘ç»œçˆ¬è™«</h3><p>äº’è”ç½‘ä¸Šçš„ä¿¡æ¯å­˜å‚¨åœ¨æ— æ•°ä¸ªæœåŠ¡å™¨ä¸Šï¼Œä»»ä½•æœç´¢å¼•æ“æƒ³è¦å›ç­”ç”¨æˆ·çš„æœç´¢ï¼Œé¦–å…ˆè¦æŠŠç½‘é¡µå­˜å‚¨åœ¨è‡ªå·±æœ¬åœ°çš„æœåŠ¡å™¨ä¸Šï¼Œè¿™é çš„å°±æ˜¯ç½‘ç»œçˆ¬è™«ã€‚å®ƒä¸åœçš„å‘å„ç§ç½‘ç»œå‘èµ·è¯·æ±‚ï¼Œå°†æ‰€å¾—åˆ°çš„ç½‘é¡µå­˜å‚¨èµ·æ¥ã€‚å¦‚ä½•é«˜æ•ˆçš„çˆ¬å–æ•°æ®æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æŒ‘æˆ˜ï¼Œæ¯”å¦‚éœ€è¦æœ‰æˆåƒä¸Šä¸‡ä¸ªçˆ¬è™«ç¨‹åºåŒæ—¶çˆ¬å–æ•°æ®ï¼Œé«˜æ•ˆçš„å°†æ•°æ®å­˜å‚¨èµ·æ¥ä»¥ä¾¿ä¹‹ååˆ†æç­‰ã€‚å‡ºäºå®‰å…¨ç­‰å› ç´ è€ƒè™‘ï¼Œå¾ˆå¤šç½‘ç»œæœåŠ¡å™¨éƒ½æœ‰åæ¶æ„çˆ¬è™«çš„åŠŸèƒ½ã€‚å°½ç®¡ä»–ä»¬æ‰€é‡‡ç”¨çš„ç­–ç•¥å„ä¸ç›¸åŒï¼Œä½†æ˜¯æ˜¯å…±åŒç‚¹æ˜¯ä»–ä»¬çš„ç›®æ ‡å°±æ˜¯å°½é‡åªå“åº”çœŸäººç”¨æˆ·çš„è¯·æ±‚ï¼Œä½†æ˜¯æœç´¢å¼•æ“çˆ¬è™«é€šå¸¸ä¸éœ€è¦æ‹…å¿ƒè¿™ä¸€ç‚¹ï¼Œå› ä¸ºå¤§éƒ¨åˆ†ç½‘ç«™éƒ½å¸Œæœ›æé«˜è‡ªå·±çš„æœç´¢æ’åï¼Œæ¬¢è¿çˆ¬è™«çš„åˆ°è®¿ã€‚é€šå¸¸è°·æ­Œç­‰æœç´¢å¼•æ“å’Œç½‘ç«™ä¹‹é—´æœ‰çº¦å®šï¼Œæ¯”å¦‚åœ¨ç½‘é¡µä¸ŠåŠ ä¸€ä¸ªç‰¹æ®Šçš„æ ‡ç­¾ï¼Œå‘Šè¯‰çˆ¬è™«è¿™ä¸ªç½‘é¡µæ˜¯ä»€ä¹ˆç±»å‹çš„ï¼ŒåŒ…å«ä»€ä¹ˆä¿¡æ¯ç­‰ï¼Œä»¥ä¾¿å¸®åŠ©çˆ¬è™«æ›´å¥½çš„è·å–è¯¥ç½‘é¡µçš„å†…å®¹ã€‚</p>
<h3 id="åˆ†æ•°ã€æƒé‡"><a href="#åˆ†æ•°ã€æƒé‡" class="headerlink" title="åˆ†æ•°ã€æƒé‡"></a>åˆ†æ•°ã€æƒé‡</h3><p>ã€‚ã€‚ã€‚</p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æœç´¢å¼•æ“æ˜¯å„ç§é«˜æ·±çš„ç®—æ³•å’Œå¤æ‚çš„ç³»ç»Ÿå®ç°çš„å®Œç¾ç»“åˆï¼Œæ¯ä¸€éƒ¨åˆ†éƒ½åœ¨ç³»ç»Ÿé‡Œèµ·åˆ°å…³é”®ä½œç”¨ã€‚</p>
<h3 id="DNSæŸ¥è¯¢"><a href="#DNSæŸ¥è¯¢" class="headerlink" title="DNSæŸ¥è¯¢"></a>DNSæŸ¥è¯¢</h3><p>ç¡®è®¤URLä»¥åï¼Œæµè§ˆå™¨é¦–å…ˆè¦æŸ¥è¯¢åŸŸåï¼Œå¯¹åº”æœåŠ¡å™¨çš„IPåœ°å€ï¼Œä¸€èˆ¬éœ€è¦20-120æ¯«ç§’æ—¶é—´ï¼Œæµè§ˆå™¨ç¼“å­˜â€“&gt;æœ¬åœ°hostæŸ¥è¯¢â€“&gt;dnsæœåŠ¡å™¨ã€‚dnsæŸ¥è¯¢å®Œæˆä¹‹å‰ï¼Œæµè§ˆå™¨æ— æ³•è¯†åˆ«æœåŠ¡å™¨IPï¼Œå› æ­¤ä¸ä¸‹è½½ä»»ä½•æ•°æ®ã€‚åŸºäºæ€§èƒ½è€ƒè™‘ï¼ŒISPè¿è¥å•†ã€å±€åŸŸç½‘è·¯ç”±ã€æ“ä½œç³»ç»Ÿã€å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰éƒ½ä¼šæœ‰ç›¸åº”çš„dnsç¼“å­˜æœºåˆ¶ã€‚</p>
<ul>
<li>IE ç¼“å­˜ 30 åˆ†é’Ÿï¼Œå¯ä»¥é€šè¿‡æ³¨å†Œè¡¨ä¸­ DnsCacheTimeout é¡¹è®¾ç½®ï¼›</li>
<li>Firefox æ··å­˜ 1 åˆ†é’Ÿï¼Œé€šè¿‡ network.dnsCacheExpiration é…ç½®ï¼›</li>
<li>Chrome - &gt; è®¾ç½® - &gt; é€‰é¡¹ - &gt; é«˜çº§é€‰é¡¹ - &gt; å»å‹¾ â€œç”¨é¢„æå– DNS æé«˜ç½‘é¡µè½½å…¥é€Ÿåº¦â€</li>
</ul>
<h3 id="Favicon-ico"><a href="#Favicon-ico" class="headerlink" title="Favicon.ico"></a>Favicon.ico</h3><p>ä¸­æ–‡åç§°æ˜¯ç½‘ç«™å¤´åƒã€‚å¯ä»¥æ˜¾ç¤ºåœ¨ç½‘ç«™çš„æµè§ˆå™¨æ ‡ç­¾ã€åœ°å€æ å·¦è¾¹å’Œæ”¶è—å¤¹ï¼Œæ˜¯å±•ç¤ºç½‘ç«™ä¸ªæ€§çš„ç¼©ç•¥logoæ ‡å¿—ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ç½‘ç«™å¤´åƒï¼Œå¦‚æœè¦è®©ç½‘ç«™çœ‹èµ·æ¥æ›´ä¸“ä¸šã€æ›´ç¾ã€æ›´æœ‰ä¸ªæ€§ã€‚Favicon.icoæ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://coffeeandtea.github.io/2017/12/25/javascriptè¯­è¨€ç²¾ç²¹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ç‹æ™“å®‡">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç§‹å¤œå·²å‡‰ 02">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/25/javascriptè¯­è¨€ç²¾ç²¹/" itemprop="url">javascriptè¯­è¨€ç²¾ç²¹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-12-25T20:24:06+08:00">
                2017-12-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="javascriptè¯­è¨€ç²¾ç²¹"><a href="#javascriptè¯­è¨€ç²¾ç²¹" class="headerlink" title="javascriptè¯­è¨€ç²¾ç²¹"></a>javascriptè¯­è¨€ç²¾ç²¹</h3><h4 id="ç¬¬ä¸€ç« "><a href="#ç¬¬ä¸€ç« " class="headerlink" title="ç¬¬ä¸€ç« "></a>ç¬¬ä¸€ç« </h4><h5 id="è¯­å¥"><a href="#è¯­å¥" class="headerlink" title="è¯­å¥"></a>è¯­å¥</h5><p>åœ¨webæµè§ˆå™¨ä¸­æ¯ä¸ª </p>
<pre><code>&lt;script&gt; </code></pre><p>æ ‡ç­¾æä¾›ä¸€ä¸ªè¢«ç¼–è¯‘ä¸”ç«‹å³æ‰§è¡Œçš„ç¼–è¯‘å•å…ƒï¼ŒJavaScriptæŠŠå®ƒä»¬ä¸€èµ·æŠ›åˆ°ä¸€ä¸ªå…¬å…±çš„å…¨å±€åå­—ç©ºé—´ä¸­ã€‚<br>switchã€whileã€forå’Œdoè¯­å¥å…è®¸æœ‰ä¸€ä¸ªå¯é€‰çš„å‰ç½®æ ‡ç­¾labelã€‚å®ƒé…åˆbreakè¯­å¥æ¥ä½¿ç”¨ã€‚<br>for-inå¾ªç¯ç”¨äºæšä¸¾ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§åã€‚åœ¨æ¯æ¬¡å¾ªç¯ä¸­objectçš„ä¸‹ä¸€ä¸ªå±æ€§åå­—ç¬¦ä¸²è¢«èµ‹å€¼ç»™varialeã€‚é€šå¸¸éœ€è¦ä½¿ç”¨object.hasOwnProperty(variable)è¿™ä¸ªæ–¹æ³•æ¥ç¡®å®šä¸€ä¸ªå±æ€§æ˜¯å¦æ˜¯è¯¥å¯¹è±¡çš„æˆå‘˜ï¼Œè¿˜æ˜¯æ¥è‡ªäºåŸå‹é“¾ã€‚</p>
<pre><code>for(myvar in obj){
    if(obj.hasOwnProperty(myvar)){
        //do something
    }
}</code></pre><p>doè¯­å¥å°±åƒwhileè¯­å¥ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯å®ƒåœ¨ä»£ç æ‰§è¡Œä¹‹åè€Œä¸æ˜¯ä¹‹å‰æ£€æµ‹è¡¨è¾¾å¼çš„å€¼ï¼Œè¿™å°±æ„å‘³ç€ä»£ç å—è‡³å°‘æ‰§è¡Œä¸€æ¬¡ã€‚<br>tryè¯­å¥æ‰§è¡Œä¸€ä¸ªä»£ç å—ï¼Œå¹¶æ•è·è¯¥ä»£ç å—æŠ›å‡ºçš„ä»»ä½•å¼‚å¸¸ã€‚catchä»å¥å®šä¹‰äº†ä¸€ä¸ªæ–°çš„å˜é‡variableæ¥æ¥å—æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡ã€‚<br>throwè¯­å¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œå¦‚æœthrowè¯­å¥åœ¨ä¸€ä¸ªtryä»£ç å—ä¸­ï¼Œé‚£ä¹ˆæ§åˆ¶æµå°±ä¼šè·³è½¬åˆ°catchä»å¥ä¸­ã€‚å¦‚æœthrowè¯­å¥åœ¨å‡½æ•°ä¸­ï¼Œåˆ™è¯¥å‡½æ•°è°ƒç”¨è¢«æ”¾å¼ƒï¼Œæ§åˆ¶æµè·³è½¬åˆ°è°ƒç”¨è¯¥å‡½æ•°çš„tryè¯­å¥çš„catchä»å¥ä¸­ã€‚throwè¯­å¥ä¸­çš„è¡¨è¾¾å¼é€šå¸¸æ˜¯ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ï¼ŒåŒ…å«ä¸€ä¸ªnameå±æ€§å’Œä¸€ä¸ªmessageå±æ€§ã€‚å¼‚å¸¸æ•è·å™¨å¯ä»¥ä½¿ç”¨è¿™äº›ä¿¡æ¯å»å†³å®šè¯¥åšä»€ä¹ˆã€‚returnè¯­å¥ä¼šå¯¼è‡´ä»å‡½æ•°ä¸­æå‰è¿”å›ï¼Œå®ƒä¹Ÿå¯ä»¥æŒ‡å®šè¦è¢«è¿”å›çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šè¿”å›çš„è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆè¿”å›å€¼å°±æ˜¯undefinedã€‚JavaScriptä¸å…è®¸åœ¨returnå…³é”®å­—å’Œè¡¨è¾¾å¼ä¹‹é—´æ¢è¡Œã€‚</p>
<h4 id="å­—é¢é‡"><a href="#å­—é¢é‡" class="headerlink" title="å­—é¢é‡"></a>å­—é¢é‡</h4><p>å¯¹è±¡å­—é¢é‡æ˜¯ä¸€ç§å¯ä»¥æ–¹ä¾¿çš„æŒ‰ç…§æŒ‡å®šè§„æ ¼åˆ›å»ºæ–°å¯¹è±¡çš„è¡¨ç¤ºæ³•ï¼Œå±æ€§åå¯ä»¥æ˜¯æ ‡ç¤ºç¬¦æˆ–è€…å­—ç¬¦ä¸²ï¼Œè¿™äº›åå­—è¢«å½“åšå­—é¢é‡è€Œä¸æ˜¯å˜é‡åæ¥å¯¹å¾…ï¼Œæ‰€ä»¥å¯¹è±¡çš„å±æ€§ååœ¨ç¼–è¯‘æ—¶æ‰èƒ½çŸ¥é“ã€‚å±æ€§çš„å€¼å°±æ˜¯è¡¨è¾¾å¼ã€‚</p>
<h3 id="ç¬¬ä¸‰ç« -å¯¹è±¡"><a href="#ç¬¬ä¸‰ç« -å¯¹è±¡" class="headerlink" title="ç¬¬ä¸‰ç«  å¯¹è±¡"></a>ç¬¬ä¸‰ç«  å¯¹è±¡</h3><p>JavaScriptçš„ç®€å•æ•°æ®ç±»å‹åŒ…æ‹¬æ•°å­— å­—ç¬¦ä¸² å¸ƒå°”å€¼ nullå€¼å’Œundefinedå€¼ã€‚å…¶ä»–æ‰€æœ‰å€¼éƒ½æ˜¯å¯¹è±¡ã€‚æ•°å­—å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼â€˜è²Œä¼¼â€™å¯¹è±¡ï¼Œå› ä¸ºå®ƒä»¬æœ‰æ–¹æ³•ï¼Œä½†æ˜¯å®ƒä»¬æ˜¯ä¸å¯å˜çš„ã€‚JavaScriptä¸­çš„å¯¹è±¡æ˜¯å¯å˜çš„é”®æ§é›†åˆã€‚åœ¨JavaScriptä¸­æ•°ç»„æ˜¯å¯¹è±¡ï¼Œå‡½æ•°æ˜¯å¯¹è±¡æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¯¹è±¡ã€‚å¯¹è±¡æ˜¯å±æ€§çš„å®¹å™¨ï¼Œå…¶ä¸­æ¯ä¸ªå±æ€§éƒ½æ‹¥æœ‰åå­—å’Œå€¼ï¼Œå±æ€§çš„åå­—å¯ä»¥æ˜¯åŒ…æ‹¬ç©ºå­—ç¬¦ä¸²åœ¨å†…çš„ä»»æ„å­—ç¬¦ä¸²ã€‚å±æ€§å€¼å¯ä»¥æ˜¯é™¤äº†undefinedå€¼ä¹‹å¤–çš„ä»»ä½•å€¼ã€‚<br>JavaScriptåŒ…å«ä¸€ç§åŸå‹é“¾çš„ç‰¹æ€§ï¼Œå…è®¸å¯¹è±¡ç»§æ‰¿å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ã€‚æ­£ç¡®çš„ä½¿ç”¨å®ƒèƒ½å‡å°‘å¯¹è±¡åˆå§‹åŒ–æ—¶æ¶ˆè€—çš„æ—¶é—´å’Œå†…å­˜ã€‚</p>
<h4 id="æ£€ç´¢"><a href="#æ£€ç´¢" class="headerlink" title="æ£€ç´¢"></a>æ£€ç´¢</h4><p>è¦æ£€ç´¢å¯¹è±¡é‡ŒåŒ…å«çš„å€¼ï¼Œå¯ä»¥é‡‡ç”¨åœ¨[]åç¼€ä¸­æ‹¬ä½ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼çš„æ–¹å¼ã€‚å¦‚æœå­—ç¬¦ä¸²è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ï¼Œè€Œä¸”æ˜¯ä¸€ä¸ªåˆæ³•çš„JavaScriptæ ‡è¯†ç¬¦ä¸æ˜¯ä¿ç•™å­—ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ä½¿ç”¨.è¡¨ç¤ºæ³•æ¥ä»£æ›¿ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨.</p>
<p>||  è¿ç®—ç¬¦å¯ä»¥ç”¨æ¥å¡«å……é»˜è®¤å€¼ï¼›</p>
<pre><code>var middle = stooge[&apos;middle-name&apos;] || &apos;none&apos;,
var status = flight.status || &apos;unknow&apos;</code></pre><p>å°è¯•ä»undefinedçš„æˆå‘˜å±æ€§ä¸­å–å€¼å°†ä¼šå¯¼è‡´TypeErrorå¼‚å¸¸ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨&amp;&amp;è¿ç®—ç¬¦æ¥é¿å…é”™è¯¯ã€‚</p>
<pre><code>flight.e     // undefined
flight.e.f   // throw &quot;TypeError&quot;
flight.e &amp;&amp; flight.e.f // undefined</code></pre><h4 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h4><p>å¯¹è±¡é‡Œçš„å€¼å¯ä»¥é€šè¿‡èµ‹å€¼è¯­å¥æ¥æ›´æ–°ï¼Œå¦‚æœå±æ€§åå·²ç»å­˜åœ¨åœ¨å¯¹è±¡é‡Œäº†ï¼Œå“ªå„¿è¿™ä¸ªå±æ€§çš„å€¼å°±ä¼šè¢«æ›¿æ¢ï¼Œå¦‚æœå¯¹è±¡ä¹‹å‰æ²¡æœ‰é‚£ä¸ªå±æ€§åï¼Œé‚£ä¹ˆè¯¥å±æ€§å°±ä¼šè¢«æ‰©å……åˆ°å¯¹è±¡ä¸­ã€‚</p>
<h4 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h4><p>æ¯ä¸ªå¯¹è±¡éƒ½é“¾æ¥åˆ°ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥ä»ä¸­ç»§æ‰¿å±æ€§ã€‚æ‰€æœ‰é€šè¿‡å¯¹è±¡å­—é¢é‡åˆ›å»ºçš„å¯¹è±¡éƒ½è¿æ¥åˆ°Object.prototypeï¼Œä»–æ˜¯ä¸€ä¸ªJavaScriptä¸­çš„æ ‡é…å¯¹è±¡ã€‚åŸå‹é“¾åœ¨æ›´æ–°æ—¶æ˜¯ä¸èµ·ä½œç”¨<code>çš„</code>ï¼Œå½“æˆ‘ä»¬å¯¹æŸä¸ªå¯¹è±¡åšå‡ºæ”¹å˜æ—¶ï¼Œä¸ä¼šè§¦åŠè¯¥å¯¹è±¡çš„åŸå‹ã€‚åŸå‹é“¾å…³ç³»æ˜¯ä¸€ä¸­åŠ¨æ€çš„å…³ç³»ï¼Œå¦‚æœæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§åˆ°åŸå‹ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§ä¼šç«‹å³å¯¹æ‰€æœ‰åŸºäºè¯¥åŸå‹çš„å¯¹è±¡å¯è§ã€‚</p>
<h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><p>deleteè¿ç®—ç¬¦å¯ä»¥ç”¨æ¥åˆ é™¤å¯¹è±¡çš„å±æ€§ï¼Œå¦‚æœå¯¹è±¡åŒ…å«è¯¥å±æ€§ï¼Œé‚£ä¹ˆè¯¥å±æ€§å°±ä¼šè¢«ç§»é™¤ã€‚å®ƒä¸ä¼šè§¦åŠåŸå‹é“¾ä¸­çš„ä»»ä½•å¯¹è±¡ã€‚</p>
<h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><p>å‡½æ•°å¯¹è±¡é“¾æ¥åˆ°Function.proptotypeã€‚ï¼ˆFunction.proptotypeå†é“¾æ¥åˆ°Object.proptotypeï¼‰æ¯ä¸ªå‡½æ•°åœ¨åˆ›å»ºæ—¶å€™ä¼šé™„åŠ ä¸¤ä¸ªéšè—å±æ€§ï¼š1å‡½æ•°çš„ä¸Šä¸‹æ–‡å’Œå®ç°å‡½æ•°è¡Œä¸ºçš„ä»£ç ã€‚æ¯ä¸ªå‡½æ•°åœ¨åˆ›å»ºæ—¶ä¹Ÿéšé…æœ‰ä¸€ä¸ªprototypeå±æ€§ã€‚å®ƒçš„å€¼æ˜¯ä¸€ä¸ªæ‹¥æœ‰constructorå±æ€§ä¸”å€¼ä¸ºè¯¥å‡½æ•°çš„å¯¹è±¡ï¼Œè¿™ä¸ªå’Œéšè—é“¾æ¥åˆ°Function.prototypeå®Œå…¨ä¸åŒã€‚<br>å‡½æ•°å­—é¢é‡å¯ä»¥å‡ºç°åœ¨ä»»ä½•å…è®¸è¡¨è¾¾å¼å‡ºç°çš„åœ°æ–¹ã€‚å‡½æ•°ä¹Ÿå¯ä»¥è¢«å®šä¹‰åœ¨å…¶ä»–å‡½æ•°ä¸­ï¼Œä¸€ä¸ªå†…éƒ¨å‡½æ•°é™¤äº†å¯ä»¥è®¿é—®è‡ªå·±çš„å‚æ•°å’Œå˜é‡ï¼ŒåŒæ—¶å®ƒä¹Ÿå¯ä»¥è‡ªç”±è®¿é—®æŠŠå®ƒåµŒå¥—åœ¨å…¶ä¸­çš„çˆ¶å‡½æ•°çš„å‚æ•°å’Œå˜é‡ã€‚é€šè¿‡å‡½æ•°å­—é¢é‡åˆ›å»ºçš„å‡½æ•°å¯¹è±¡åŒ…å«ä¸€ä¸ªé“¾æ¥åˆ°å¤–éƒ¨ä¸Šä¸‹æ–‡çš„é“¾æ¥ã€‚è¿™è¢«ç§°ä¸ºé—­åŒ…ã€‚ä»–æ˜¯JavaScriptå¼ºå¤§è¡¨ç°åŠ›çš„æ¥æºã€‚<br>JavaScriptåˆ›å»ºä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œä¼šç»™è¯¥å¯¹è±¡è®¾ç½®ä¸€ä¸ªâ€˜è°ƒç”¨â€™å±æ€§ï¼Œå½“JavaScriptè°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå¯ä»¥ç†è§£ä¸ºè°ƒç”¨æ­¤å‡½æ•°çš„è°ƒç”¨å±æ€§ã€‚</p>
<h3 id="å‡½æ•°å­—é¢é‡"><a href="#å‡½æ•°å­—é¢é‡" class="headerlink" title="å‡½æ•°å­—é¢é‡"></a>å‡½æ•°å­—é¢é‡</h3><p>//åˆ›å»ºä¸€ä¸ªåä¸ºaddçš„å˜é‡ï¼Œå¹¶ç”¨æ¥æŠŠä¸¤ä¸ªæ•°å­—ç›¸åŠ çš„å‡½æ•°èµ‹å€¼ç»™å®ƒã€‚</p>
<pre><code>var add = function(a,b){
    return a + b
}</code></pre><p>å‡½æ•°å­—é¢é‡åŒ…æ‹¬å››ä¸ªéƒ¨åˆ†ï¼šç¬¬ä¸€ä¸ªéƒ¨åˆ†æ˜¯ä¿ç•™å­—functionç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯å‡½æ•°åï¼ˆå¯ä»¥è¢«çœç•¥ï¼‰ï¼Œå‡½æ•°å¯ä»¥é€šè¿‡å‡½æ•°åæ¥é€’å½’çš„è°ƒç”¨è‡ªå·±ã€‚ç¬¬ä¸‰éƒ¨åˆ†æ˜¯åŒ…å›´åœ¨åœ†æ‹¬å·ä¸­çš„ä¸€ç»„å‚æ•°ã€‚å¤šä¸ªå‚æ•°ç”¨é€—å·éš”å¼€ã€‚ç¬¬å››éƒ¨åˆ†æ˜¯åŒ…å›´åœ¨èŠ±æ‹¬å·ä¸­çš„ä¸€ç»„è¯­å¥ã€‚è¿™äº›è¯­å¥æ˜¯å‡½æ•°çš„ä¸»ä½“ï¼Œåœ¨å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™æ‰§è¡Œã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">ç‹æ™“å®‡</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">54</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ç‹æ™“å®‡</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
